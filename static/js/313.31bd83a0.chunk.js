"use strict";(self.webpackChunkreact_ts_template=self.webpackChunkreact_ts_template||[]).push([[313],{9714:(e,l,a)=>{a.r(l),a.d(l,{default:()=>vl});var s=a(2791),t=a(7689),n=a(9895),o=a(9230),i=a(6806),r=a(3012),c=a(58),d=a(7692),u=a(1655),m=a(184);const x=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.cHT,{size:24,className:"mr-2"}),a("addUser")]})},f=(0,s.memo)(x);var j=a(7477),C=a(1134),y=a(3960),p=a(763),g=a(6866),h=a(9300);var b=a(2785),k=a(3853);const v=e=>{let{placeholder:l}=e;return(0,m.jsxs)("div",{className:"grid h-14 w-full grid-cols-6 gap-x-2",children:[(0,m.jsx)("div",{className:"col-span-5 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:l}),(0,m.jsx)("div",{className:"col-span-1 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:(0,m.jsx)(k.Yjd,{size:24})})]})},w=(0,s.memo)(v);var N=a(8820);const E=e=>{let{image:l,onClearImage:a}=e;const t=(0,s.useCallback)((e=>{a(e,l)}),[l,a]);return(0,m.jsxs)("div",{className:"group relative aspect-4/3 h-14 w-[calc(25%-12px)] flex-none rounded-lg",children:[(0,m.jsx)("img",{src:l,alt:"cstorage",className:"h-full w-full rounded-lg object-cover object-center"}),(0,m.jsx)("div",{role:"button",tabIndex:0,className:"invisible absolute top-0 flex h-full w-full items-center justify-center rounded-lg bg-gray-100 text-red-500 opacity-70 group-hover:visible",onClick:t,children:(0,m.jsx)(k.Ybf,{size:22})})]})},S=(0,s.memo)(E),A=e=>{let{images:l,onClearImage:a,isLoading:s,reviewedImages:t}=e;return(0,m.jsxs)("div",{className:"flex flex-wrap justify-start gap-4 rounded-lg",children:[Array.from(l).map(((e,l)=>(0,m.jsx)(S,{image:e,onClearImage:a},l))),s&&Array.from(t).map(((e,l)=>(0,m.jsxs)("div",{className:"relative h-14 w-[calc(25%-12px)] rounded-lg",children:[(0,m.jsx)("img",{src:e,alt:"CStorage",className:"h-full w-full rounded-lg object-cover object-center opacity-50"}),(0,m.jsx)("div",{className:"absolute inset-0 m-auto h-4 w-4 animate-spin rounded-full border-2 border-t-gray-600"})]},l))),(0,m.jsx)("div",{className:"flex h-14 grow items-center justify-center rounded-lg bg-gray-100",children:(0,m.jsx)(N.Em2,{size:22})})]})},O=(0,s.memo)(A),I=e=>{let{className:l,containerClassName:a,error:t,inlineError:n=!1,multiple:i,value:c,label:d,disabled:u=!1,onChange:x,placeholder:f,...C}=e;const{t:y}=(0,o.$G)("company"),k=(0,h.Z)(),v=(0,s.useRef)(),[N,E]=(0,s.useState)([]),[S,A]=(0,s.useState)(!1),[I,G]=(0,s.useState)([]),D=(0,s.useRef)(!0),M=(0,s.useCallback)((()=>{v.current.click()}),[]),L=(0,s.useCallback)((async e=>{A(!0),i||null===E||void 0===E||E([]);try{const l=await r.TQ.uploadImage(e,b.Az.SYSTEM);if(i)return E((e=>[...e,l.absolute_url])),void(D.current=!1);null===x||void 0===x||x(l.absolute_url)}catch(l){l instanceof j.d7&&k.error(y("uploadError"))}finally{A(!1),G([])}}),[i,x,y,k]),B=(0,s.useCallback)((e=>{const l=e.target.files;null!==l&&Array.from(l).forEach((e=>{G((l=>{return[...l,(a=e,a instanceof File?URL.createObjectURL(a):a.url)];var a})),L(e)}))}),[L]),Z=(0,s.useCallback)(((e,l)=>{e.preventDefault(),e.stopPropagation(),E((e=>e.filter((e=>e!==l)))),i?null===x||void 0===x||x(N.filter((e=>e!==l))):null===x||void 0===x||x("")}),[N,i,x]);return(0,s.useEffect)((()=>{D.current||null===x||void 0===x||x(N)}),[N,x]),(0,s.useEffect)((()=>{D.current&&(c&&!(0,p.isEmpty)(c)?E(Array.isArray(c)?c:[c]):E([]))}),[c]),(0,m.jsxs)("div",{className:(0,g.m)("relative block cursor-text rounded-lg border-2 border-gray-100 bg-white px-4 py-4 ring-inset transition-colors duration-100 hover:border-blue-500",u&&"cursor-default bg-gray-50 ring-gray-100 hover:border-gray-100",a),children:[(0,m.jsxs)("div",{className:(0,g.m)("absolute left-2 top-1.5 z-5 -mt-0.5 flex -translate-y-4 items-center justify-between bg-white px-2 text-sm font-semibold text-blue-500 transition-all duration-100",u&&"text-gray-400"),children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 top-1/2 -z-30 w-full -translate-y-0.5"}),d]}),(0,m.jsxs)("button",{type:"button",className:(0,g.m)("block w-full cursor-pointer text-left outline-none",l),tabIndex:0,onClick:M,children:[(0,m.jsx)("input",{type:"file",className:"hidden",name:"input_file",ref:v,multiple:i,onChange:B,...C}),(0,m.jsx)("div",{className:"h-full w-full",children:(null===N||void 0===N?void 0:N.length)>0||S?(0,m.jsx)(O,{images:N,onClearImage:Z,isLoading:S,reviewedImages:I}):(0,m.jsx)(w,{placeholder:f})})]}),!n&&Boolean(t)&&(0,m.jsx)("div",{className:"-mb-1.5 mt-1.5 text-sm text-red-500",children:t})]})},G=(0,s.memo)(I),D=e=>{var l;let{name:a,control:s,rules:t,multiple:n,containerClassName:o,...i}=e;if(!s||!s.register)return(0,m.jsx)(G,{name:a,multiple:n,...i});const{field:{value:r=null,onChange:c,onBlur:d},formState:{errors:u}}=(0,C.bc)({name:a,control:s,rules:t});return(0,m.jsx)(G,{value:null!==r&&void 0!==r?r:null,error:null===(l=u[a])||void 0===l?void 0:l.message,multiple:n,onChange:c,onBlur:d,containerClassName:o,...(0,p.omit)(i,["value","onChange","onBlur"])})},M=(0,s.memo)(D);var L=a(4520);const B={email:"",name:"",password:"",username:""},Z=e=>{let{isOpen:l,user:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[p,g]=(0,s.useState)(!1),b=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,C.cI)({defaultValues:B}),E=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addUserSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{g(!1)}}),[b,N.setError,t,n,r,x,f]),S=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("edit")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{g(!1)}}),[b,N.setError,t,c,d,x,f,a]),A=w((async e=>{g(!0),a?S(e):E(e)}));return(0,s.useEffect)((()=>{l&&(g(!1),v(a||B))}),[l,v,a]),(0,m.jsxs)(i.u,{isLoading:p,isOpen:l,isFormModal:!0,title:x(a?"editUser":"addUser"),onClose:t,onConfirm:A,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:p,label:x("username"),name:"username"}),(0,m.jsx)(y.II,{className:"block",control:k,disabled:p,label:x("password"),name:"password",type:"password",autoSave:"off"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:p,label:x("email"),name:"email"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:p,label:x("name"),name:"name"}),(0,m.jsx)(M,{containerClassName:"w-full",name:"avatar",control:k,disabled:p,multiple:!1,label:x("avatar"),placeholder:x("chooseAvatar")})]})},$=(0,s.memo)(Z);var z=a(8080),R=a(8486),U=a(2070),F=a(128);const P=e=>{let{alt:l,skeleton:a=!1,src:s,type:t,className:n}=e;return(0,m.jsxs)("div",{className:(0,g.m)("h-12 w-12 rounded-full bg-gray-100",n),children:[a&&(0,m.jsx)(U.oY,{className:(0,g.m)("h-full w-full rounded-full",n)}),!a&&t===b.n6.ROUNDED&&(0,m.jsx)(F.q,{src:s||"",alt:l,className:"w-full h-full"}),!a&&t===b.n6.BOX&&(0,m.jsx)("img",{src:s||"",alt:l,className:"w-full h-full rounded-md"})]})},V=(0,s.memo)(P);var Y=a(3045),_=a(1454),W=a(6127);const T=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(_.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},H=(0,s.memo)(T),X=e=>{let{data:l,isLoading:a,onClickEdit:t,onClickDelete:n,onGetAll:i,...r}=e;const{t:c}=(0,o.$G)(),d=(0,s.useMemo)((()=>(0,z.Cl)()),[]),u=(0,s.useMemo)((()=>[d.accessor((e=>String(e.uuid)),{id:"uuid",header:c("id")}),d.display({id:"avatar",header:c("avatar"),cell:e=>(0,m.jsx)(V,{alt:e.row.original.name,type:b.n6.ROUNDED}),meta:{skeleton:(0,m.jsx)(V,{skeleton:!0,type:b.n6.ROUNDED})}}),d.accessor((e=>e.username),{id:"username",header:c("username"),meta:{filterBy:"username",getFilterOptions:i}}),d.accessor((e=>e.email),{id:"email",header:c("email"),meta:{filterBy:"email",getFilterOptions:i}}),d.accessor((e=>e.name),{id:"name",header:c("name"),meta:{filterBy:"name",getFilterOptions:i}}),d.display({id:"actions",cell:e=>(0,m.jsx)(H,{id:e.row.original.uuid,onClickEdit:t,onClickDelete:n}),meta:{skeleton:(0,m.jsx)(Y.Z,{numberOfActions:2})}})]),[d,n,t,c,i]);return(0,m.jsx)(R.Z,{data:l,columns:u,isLoading:a,...r})},q=(0,s.memo)(X),Q=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,d]=(0,s.useState)(null),[u,x]=(0,s.useState)(!0),[j,C]=(0,s.useState)(!1),[y,p]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null),[b,k]=(0,s.useState)({}),v=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===g)))&&void 0!==e?e:null}),[g,l]),w=(0,s.useCallback)((()=>{p(!0)}),[]),N=(0,s.useCallback)((e=>{h(null!==e&&void 0!==e?e:null),p(!0)}),[]),E=(0,s.useCallback)((e=>{h(null!==e&&void 0!==e?e:null),C(!0)}),[]),S=(0,s.useCallback)((()=>{p(!1),C(!1),h(null)}),[]),A=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await r.Vy.getUsers(b);a(e),d(l)}finally{x(!1)}}),[b]);(0,s.useEffect)((()=>{A()}),[A]);const O=(0,s.useCallback)((async()=>{try{await(0,c.deleteUser)(g)}finally{A()}}),[g,A]);return(0,m.jsxs)(n.Vu,{title:e("userManagement"),action:(0,m.jsx)(f,{onClickAdd:w}),children:[(0,m.jsx)(q,{data:l,meta:t,isLoading:u,onClickEdit:N,onClickDelete:E,onChangeState:k,onGetAll:r.Vy.getUsers}),(0,m.jsx)(i.c,{title:e("deleteUser",{name:null===v||void 0===v?void 0:v.name}),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:S,onConfirm:O}),(0,m.jsx)($,{isOpen:y,user:v,onCreate:r.Vy.createUser,onCreated:A,onEdit:r.Vy.editUser,onEdited:A,onClose:S})]})},K=(0,s.memo)(Q);var J=a(6856),ee=a(9129),le=a(3962);const ae=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(n.N_,{id:"adminSidebar",className:"pt-20",children:[(0,m.jsx)(n.GL,{id:"order",icon:(0,m.jsx)(J.nom,{}),text:e("order"),to:le.no.ORDER}),(0,m.jsx)(n.GL,{id:"product",icon:(0,m.jsx)(J.HUb,{}),text:e("product"),to:le.no.PRODUCT}),(0,m.jsx)(n.GL,{id:"category",icon:(0,m.jsx)(J.rA_,{}),text:e("category"),to:le.no.CATEGORY}),(0,m.jsx)(n.GL,{id:"user",icon:(0,m.jsx)(ee.tU0,{}),text:e("user"),to:le.no.USER}),(0,m.jsx)(n.GL,{id:"role",icon:(0,m.jsx)(ee.NLM,{}),text:e("role"),to:le.no.ROLE}),(0,m.jsx)(n.GL,{id:"config",icon:(0,m.jsx)(J.cgG,{}),text:e("config"),to:le.no.CONFIG})]})},se=(0,s.memo)(ae);var te=a(2489);const ne=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(_.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},oe=(0,s.memo)(ne),ie=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"id",header:d("id")}),u.accessor((e=>e.name),{id:"name",header:d("name"),meta:{filterBy:"name",getFilterOptions:r}}),u.accessor((e=>e.description),{id:"description",header:d("description")}),u.display({id:"actions",cell:e=>(0,m.jsx)(oe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(Y.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},re=(0,s.memo)(ie),ce={name:"",description:""},de=e=>{let{isOpen:l,category:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[g,b]=(0,s.useState)(!1),[k,v]=(0,s.useState)(!0),[w,N]=(0,s.useState)([]),E=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:S,reset:A,handleSubmit:O,...I}=(0,C.cI)({defaultValues:ce}),G=(0,s.useCallback)((async e=>{try{await n((0,p.omit)(e,"parent_uuid")),f.success(x("addCategorySuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,I.setError,null,E)}finally{b(!1)}}),[E,I.setError,t,n,r,x,f]),D=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editCategorySuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,I.setError,null,E)}finally{b(!1)}}),[E,I.setError,t,c,d,x,f,a]),M=O((async e=>{b(!0),a?D(e):G(e)})),B=(0,s.useCallback)((async e=>{try{const{data:l}=await(0,te.Sp)(e);N(l)}finally{v(!1)}}),[]);(0,s.useEffect)((()=>{if(l){if(b(!1),a)return B(a.uuid),void A(a);A(ce)}}),[l,A,a,B]);const Z=(0,s.useMemo)((()=>w.map((e=>({value:e.uuid,label:e.name})))),[w]);return(0,m.jsxs)(i.u,{isLoading:g,isOpen:l,isFormModal:!0,title:x(a?"editCategory":"addCategory"),onClose:t,onConfirm:M,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:S,disabled:g,label:x("name"),name:"name"}),(0,m.jsx)(y.II,{className:"block w-full",control:S,disabled:g,label:x("description"),name:"description"}),a&&(0,m.jsx)(y.Ph,{isDisabled:k,name:"parent_uuid",className:"w-full",control:S,options:Z,placeholder:x("category")})]})},ue=(0,s.memo)(de),me=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addCategory")]})},xe=(0,s.memo)(me),fe=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[C,y]=(0,s.useState)(!1),[p,g]=(0,s.useState)({}),h=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),b=(0,s.useCallback)((()=>{x(!0)}),[]),k=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,s.useCallback)((()=>{x(!1),y(!1),j(null)}),[]),w=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),y(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,te.ML)(p);a(e),r(l)}finally{d(!1)}}),[p]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,te.uu)(f)}finally{N()}}),[f,N]);return(0,m.jsxs)(n.Vu,{title:e("categoryManagement"),action:(0,m.jsx)(xe,{onClickAdd:b}),children:[(0,m.jsx)(re,{data:l,meta:t,isLoading:c,onClickEdit:k,onClickDelete:w,onChangeState:g,onGetAll:te.ML}),(0,m.jsx)(ue,{isOpen:u,category:h,onCreate:te.k4,onCreated:N,onEdit:te.ht,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteCategory"),message:e("deleteMessage"),isOpen:C,status:"danger",onClose:v,onConfirm:E})]})},je=(0,s.memo)(fe),Ce=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(_.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},ye=(0,s.memo)(Ce),pe=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"uuid",header:d("id")}),u.display({id:"img",header:d("img"),cell:e=>(0,m.jsx)(V,{className:"w-28 h-40 rounded-md",src:e.row.original.image,alt:e.row.original.name,type:b.n6.BOX}),meta:{skeleton:(0,m.jsx)(V,{skeleton:!0,type:b.n6.BOX})}}),u.accessor((e=>e.name),{id:"name",header:d("name"),meta:{filterBy:"name",getFilterOptions:r}}),u.accessor((e=>e.price),{id:"price",header:d("price")}),u.accessor((e=>e.description),{id:"description",header:d("description")}),u.accessor((e=>e.category.name),{id:"category.name",header:d("category")}),u.display({id:"actions",cell:e=>(0,m.jsx)(ye,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(Y.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},ge=(0,s.memo)(pe),he={category_uuid:1,name:"",price:"",description:"",image:""},be=e=>{let{isOpen:l,product:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[p,g]=(0,s.useState)(!1),[b,k]=(0,s.useState)(!0),[v,w]=(0,s.useState)([]),N=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:E,reset:S,handleSubmit:A,...O}=(0,C.cI)({defaultValues:he}),I=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addProductSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,O.setError,null,N)}finally{g(!1)}}),[N,O.setError,t,n,r,x,f]),G=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editProductSuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,O.setError,null,N)}finally{g(!1)}}),[N,O.setError,t,c,d,x,f,a]),D=A((async e=>{g(!0),a?G(e):I(e)})),B=(0,s.useCallback)((async()=>{try{const{data:e}=await(0,te.ML)();w(e)}finally{k(!1)}}),[]);(0,s.useEffect)((()=>{l&&(g(!1),S(a||he))}),[l,S,a]),(0,s.useEffect)((()=>{B()}),[B]);const Z=(0,s.useMemo)((()=>v.map((e=>({value:e.uuid,label:e.name})))),[v]);return(0,m.jsxs)(i.u,{isLoading:p,isOpen:l,isFormModal:!0,title:x(a?"editProduct":"addProduct"),onClose:t,onConfirm:D,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:p,label:x("name"),name:"name"}),(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:p,label:x("description"),name:"description"}),(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:p,label:x("price"),name:"price"}),(0,m.jsx)(y.Ph,{isDisabled:b,name:"category_uuid",className:"w-full",control:E,options:Z,placeholder:x("category")}),(0,m.jsx)(M,{containerClassName:"w-full",name:"image",control:E,disabled:p,multiple:!1,label:x("image"),placeholder:x("chooseImage")})]})},ke=(0,s.memo)(be),ve=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addProduct")]})},we=(0,s.memo)(ve);var Ne=a(1042);const Ee=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[C,y]=(0,s.useState)(!1),[p,g]=(0,s.useState)({}),h=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),b=(0,s.useCallback)((()=>{x(!0)}),[]),k=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,s.useCallback)((()=>{x(!1),y(!1),j(null)}),[]),w=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),y(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Ne.Xp)({expand:["product__category_uuid"],...p});a(e),r(l)}finally{d(!1)}}),[p]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,Ne.Ir)(f)}finally{N()}}),[f,N]);return(0,m.jsxs)(n.Vu,{title:e("productManagement"),action:(0,m.jsx)(we,{onClickAdd:b}),children:[(0,m.jsx)(ge,{data:l,meta:t,isLoading:c,onClickEdit:k,onClickDelete:w,onChangeState:g,onGetAll:Ne.Xp}),(0,m.jsx)(ke,{isOpen:u,product:h,onCreate:Ne.ry,onCreated:N,onEdit:Ne.zG,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteProduct"),message:e("deleteMessage"),isOpen:C,status:"danger",onClose:v,onConfirm:E})]})},Se=(0,s.memo)(Ee);var Ae=a(289);const Oe=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(_.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},Ie=(0,s.memo)(Oe),Ge=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"id",header:d("id")}),u.accessor((e=>e.name),{id:"name",header:d("name"),meta:{filterBy:"name",getFilterOptions:r}}),u.display({id:"actions",cell:e=>(0,m.jsx)(Ie,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(Y.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},De=(0,s.memo)(Ge),Me={name:""},Le=e=>{let{isOpen:l,roleData:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[p,g]=(0,s.useState)(!1),b=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,C.cI)({defaultValues:Me}),E=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addRoleSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{g(!1)}}),[b,N.setError,t,n,r,x,f]),S=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editRoleSuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{g(!1)}}),[b,N.setError,t,c,d,x,f,a]),A=w((async e=>{g(!0),a?S(e):E(e)}));return(0,s.useEffect)((()=>{l&&(g(!1),v(a||Me))}),[l,v,a]),(0,m.jsx)(i.u,{isLoading:p,isOpen:l,isFormModal:!0,title:x(a?"editRole":"addRole"),onClose:t,onConfirm:A,...u,children:(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:p,label:x("name"),name:"name"})})},Be=(0,s.memo)(Le),Ze=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addRole")]})},$e=(0,s.memo)(Ze),ze=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)({}),[u,x]=(0,s.useState)(!0),[f,j]=(0,s.useState)(!1),[C,y]=(0,s.useState)(null),[p,g]=(0,s.useState)(!1),h=(0,s.useMemo)((()=>{var e;return null!==(e=null===l||void 0===l?void 0:l.find((e=>e.uuid===C)))&&void 0!==e?e:null}),[C,l]),b=(0,s.useCallback)((()=>{j(!0)}),[]),k=(0,s.useCallback)((e=>{y(null!==e&&void 0!==e?e:null),j(!0)}),[]),v=(0,s.useCallback)((()=>{j(!1),g(!1),y(null)}),[]),w=(0,s.useCallback)((e=>{y(null!==e&&void 0!==e?e:null),g(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Ae.F3)(c);a(e),r(l)}finally{x(!1)}}),[c]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,Ae.Rd)(C)}finally{N()}}),[C,N]);return(0,m.jsxs)(n.Vu,{title:e("roleManagement"),action:(0,m.jsx)($e,{onClickAdd:b}),children:[(0,m.jsx)(De,{data:l,meta:t,isLoading:u,onClickEdit:k,onClickDelete:w,onChangeState:d,onGetAll:Ae.F3}),(0,m.jsx)(Be,{isOpen:f,roleData:h,onCreate:Ae.fA,onCreated:N,onEdit:Ae.Aq,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteRole"),message:e("deleteMessage"),isOpen:p,status:"danger",onClose:v,onConfirm:E})]})},Re=(0,s.memo)(ze);var Ue=a(6363);const Fe=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(_.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},Pe=(0,s.memo)(Fe);var Ve=a(510);const Ye=e=>{let{config:l}=e;return(null===l||void 0===l?void 0:l.datatype)===Ve.Df.NUMBER?(0,m.jsx)("div",{className:"text-blue-500",children:l.value}):(null===l||void 0===l?void 0:l.datatype)===Ve.Df.IMAGE?(0,m.jsx)(V,{type:b.n6.BOX,src:l.value}):(null===l||void 0===l?void 0:l.datatype)===Ve.Df.BOOLEAN?(0,m.jsx)(y.ZD,{isOn:Boolean(l.value)}):(0,m.jsx)("div",{children:l.value})},_e=(0,s.memo)(Ye),We=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"id",header:d("id")}),u.accessor((e=>e.key),{id:"key",header:d("key"),meta:{filterBy:"key",getFilterOptions:r}}),u.accessor((e=>e.datatype),{id:"datatype",header:d("datatype")}),u.display({id:"value",cell:e=>(0,m.jsx)(_e,{config:e.row.original})}),u.accessor((e=>e.description),{id:"description",header:d("description")}),u.display({id:"actions",cell:e=>(0,m.jsx)(Pe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(Y.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},Te=(0,s.memo)(We),He=e=>{let{control:l,type:a,isSubmitting:s}=e;const{t:t}=(0,o.$G)();return a===Ve.Df.NUMBER?(0,m.jsx)(y.II,{className:"block w-full",control:l,disabled:s,label:t("value"),name:"value",type:"number"}):a===Ve.Df.IMAGE?(0,m.jsx)(M,{containerClassName:"w-full",name:"value",control:l,disabled:s,multiple:!1,label:t("value"),placeholder:t("chooseImage")}):a===Ve.Df.IMAGES?(0,m.jsx)(M,{containerClassName:"w-full",name:"value",control:l,disabled:s,multiple:!0,label:t("value"),placeholder:t("chooseImage")}):a===Ve.Df.BOOLEAN?(0,m.jsx)("div",{className:"w-full hover:border-blue-700 h-[54px]  flex px-4 items-center justify-end border-gray-100 rounded-lg border-2",children:(0,m.jsx)(y.ZD,{className:"block w-full",control:l,disabled:s,name:"value"})}):(0,m.jsx)(y.II,{className:"block w-full",control:l,disabled:s,label:t("value"),name:"value"})},Xe=(0,s.memo)(He),qe={value:null,key:"",type:Ve.AL.PUBLIC,description:"",datatype:Ve.Df.TEXT},Qe=e=>{let{isOpen:l,config:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[g,b]=(0,s.useState)(!1),k=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:v,reset:w,handleSubmit:N,watch:E,...S}=(0,C.cI)({defaultValues:qe}),A=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addConfigSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,S.setError,null,k)}finally{b(!1)}}),[k,S.setError,t,n,r,x,f]),O=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editConfigSuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,S.setError,null,k)}finally{b(!1)}}),[k,S.setError,t,c,d,x,f,a]),I=N((async e=>{b(!0);let l={};l=e.datatype===Ve.Df.IMAGES?{...e,value:[e.value]}:e,a?O(e):A(l)})),G=(0,p.values)(Ve.Df).map((e=>({label:e,value:e})));return(0,s.useEffect)((()=>{l&&(b(!1),w(a||qe))}),[l,w,a]),(0,m.jsxs)(i.u,{isLoading:g,isOpen:l,isFormModal:!0,title:x(a?"editConfig":"addConfig"),onClose:t,onConfirm:I,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:v,disabled:g,label:x("key"),name:"key"}),(0,m.jsx)(y.II,{className:"block w-full",control:v,disabled:g,label:x("description"),name:"description"}),(0,m.jsx)(y.Ph,{isDisabled:g,name:"datatype",className:"w-full",control:v,options:G,placeholder:x("datatype")}),(0,m.jsx)(Xe,{type:E("datatype"),control:v,isSubmitting:g})]})},Ke=(0,s.memo)(Qe),Je=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addConfig")]})},el=(0,s.memo)(Je),ll=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[C,y]=(0,s.useState)(!1),[p,g]=(0,s.useState)({}),h=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),b=(0,s.useCallback)((()=>{x(!0)}),[]),k=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,s.useCallback)((()=>{x(!1),y(!1),j(null)}),[]),w=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),y(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Ue.getConfigs)(p);a(e),r(l)}finally{d(!1)}}),[p]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,Ue.deleteConfig)(f)}finally{N()}}),[f,N]);return(0,m.jsxs)(n.Vu,{title:e("categoryManagement"),action:(0,m.jsx)(el,{onClickAdd:b}),children:[(0,m.jsx)(Te,{data:l,meta:t,isLoading:c,onClickEdit:k,onClickDelete:w,onChangeState:g,onGetAll:Ue.getConfigs}),(0,m.jsx)(Ke,{isOpen:u,config:h,onCreate:Ue.createConfig,onCreated:N,onEdit:Ue.editConfig,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteConfig"),message:e("deleteMessage"),isOpen:C,status:"danger",onClose:v,onConfirm:E})]})},al=(0,s.memo)(ll),sl=()=>(0,m.jsx)(n.kz,{sidebar:(0,m.jsx)(se,{}),sidebarIds:["adminSidebar"],children:(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:"*",element:(0,m.jsx)("div",{className:"flex min-h-fit-layout w-full items-center justify-center",children:"Admin"})}),(0,m.jsx)(t.AW,{path:"product",element:(0,m.jsx)(Se,{})}),(0,m.jsx)(t.AW,{path:"user",element:(0,m.jsx)(K,{})}),(0,m.jsx)(t.AW,{path:"category",element:(0,m.jsx)(je,{})}),(0,m.jsx)(t.AW,{path:"role",element:(0,m.jsx)(Re,{})}),(0,m.jsx)(t.AW,{path:"config",element:(0,m.jsx)(al,{})})]})}),tl=(0,s.memo)(sl);var nl=a(2353),ol=a(8654),il=a(2318),rl=a(8870),cl=a(9705);a(6497),a(4277);const dl=e=>{let{name:l,onChangeFilter:a}=e;const t=(0,s.useCallback)((()=>{a(l)}),[a,l]);return(0,m.jsx)("div",{role:"button",tabIndex:0,onClick:t,className:"p-4 w-fit hover:bg-violet-100 hover:border-violet-500  font-semibold flex items-center justify-center h-16 rounded-lg border-2 border-gray-100",children:(0,m.jsx)("div",{className:"xs:w-32 md:w-40 text-center",children:l})})},ul=e=>{let{onChangeFilter:l}=e;const a=(0,nl.Z)((e=>e.common.categories));return(0,m.jsx)("div",{className:"w-full h-fit xs:px-6 md:px-20 xl:px-40 my-8 ",children:(0,m.jsx)(cl.tq,{slidesPerView:6,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},modules:[rl.pt],breakpoints:{320:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:50},1248:{slidesPerView:6,spaceBetween:50}},children:(0,p.isEmpty)(a)?Array.from({length:5}).map(((e,l)=>(0,m.jsx)(U.oY,{className:" xs:w-fit bg-white w-full rounded-lg"},l))):[{uuid:999,name:"All",description:"all"},...a].map((e=>(0,m.jsx)(cl.o5,{children:(0,m.jsx)(dl,{name:e.name,onChangeFilter:l},e.uuid)},e.uuid)))})})};var ml=a(7370),xl=a(5792);const fl=()=>{const e=(0,nl.Z)(xl.A.Kk);return(0,m.jsx)("div",{className:"w-full xs:h-60 md:h-120",children:(0,m.jsx)(cl.tq,{spaceBetween:50,slidesPerView:1,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},modules:[rl.pt,rl.tl],children:(0,p.isEmpty)(e)?(0,m.jsx)(U.oY,{className:"w-full xs:h-60 md:h-120"}):null===e||void 0===e?void 0:e.map(((e,l)=>(0,m.jsx)(cl.o5,{children:(0,m.jsx)("img",{className:"w-full xs:h-60 md:h-120 object-cover",alt:"de-mairiage",src:e})},l)))})})},jl=()=>{const[e,l]=(0,s.useState)(null),a=(0,s.useCallback)((e=>{l("All"!==e?l=>({...l,filterParams:[{filterBy:"filter.name",values:[e]}]}):e=>({...e,filterParams:[]}))}),[]);return(0,m.jsxs)("div",{className:"w-full h-fit",children:[(0,m.jsx)(fl,{}),(0,m.jsx)(ul,{onChangeFilter:a}),(0,m.jsx)(ml.Z,{queryParams:e,setQueryParams:l})]})};var Cl=a(8866),yl=a(8439);const pl=e=>{let{title:l}=e;return(0,yl.Z)(l),(0,m.jsxs)("div",{className:"flex flex-col items-center py-20",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center pb-20",children:[(0,m.jsx)("div",{className:"text-4xl font-semibold uppercase",children:l}),(0,m.jsx)(U.oY,{className:"mt-6 h-4 w-56"})]}),(0,m.jsxs)("div",{className:"min-h-72 w-full max-w-4xl space-y-4 rounded-xl border-2 border-gray-100 bg-white p-6 shadow-md shadow-gray-100 ",children:[(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-3/4"}),(0,m.jsx)("div",{className:"h-4"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-1/4"})]})]})},gl=(0,s.memo)(pl),hl=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:Cl.a0.HOME,element:(0,m.jsx)(jl,{})}),(0,m.jsx)(t.AW,{path:Cl.a0.CONTACT,element:(0,m.jsx)(gl,{title:e("contact")})}),(0,m.jsx)(t.AW,{path:Cl.a0.CARD,element:(0,m.jsx)(gl,{title:e("card")})}),(0,m.jsx)(t.AW,{path:Cl.a0.BLOGS,element:(0,m.jsx)(gl,{title:e("blogs")})}),(0,m.jsx)(t.AW,{path:Cl.a0.NOT_FOUND,element:(0,m.jsx)(il.F2,{})})]})},bl=(0,s.memo)(hl),kl=()=>{const{isAdmin:e}=(0,nl.Z)(ol.L3);return(0,m.jsxs)(t.Z5,{children:[e&&(0,m.jsx)(t.AW,{path:"admin/*",element:(0,m.jsx)(tl,{})}),(0,m.jsx)(t.AW,{path:"/*",element:(0,m.jsx)(bl,{})})]})},vl=(0,s.memo)(kl)}}]);
//# sourceMappingURL=313.31bd83a0.chunk.js.map