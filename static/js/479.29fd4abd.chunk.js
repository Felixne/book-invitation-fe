"use strict";(self.webpackChunkreact_ts_template=self.webpackChunkreact_ts_template||[]).push([[479],{794:(e,l,s)=>{s.r(l),s.d(l,{default:()=>hl});var a=s(2791),t=s(7689),n=s(6838),o=s(9230),i=s(1070),r=s(3012),c=s(58),d=s(7692),u=s(1655),m=s(184);const x=e=>{let{onClickAdd:l}=e;const{t:s}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.cHT,{size:24,className:"mr-2"}),s("addUser")]})},f=(0,a.memo)(x);var C=s(7477),j=s(1134),y=s(3960),h=s(763),g=s(6866),b=s(9300);var p=s(2785),k=s(3853);const v=e=>{let{placeholder:l}=e;return(0,m.jsxs)("div",{className:"grid h-14 w-full grid-cols-6 gap-x-2",children:[(0,m.jsx)("div",{className:"col-span-5 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:l}),(0,m.jsx)("div",{className:"col-span-1 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:(0,m.jsx)(k.Yjd,{size:24})})]})},w=(0,a.memo)(v);var N=s(8820);const E=e=>{let{image:l,onClearImage:s}=e;const t=(0,a.useCallback)((e=>{s(e,l)}),[l,s]);return(0,m.jsxs)("div",{className:"group relative aspect-4/3 h-14 w-[calc(25%-12px)] flex-none rounded-lg",children:[(0,m.jsx)("img",{src:l,alt:"cstorage",className:"h-full w-full rounded-lg object-cover object-center"}),(0,m.jsx)("div",{role:"button",tabIndex:0,className:"invisible absolute top-0 flex h-full w-full items-center justify-center rounded-lg bg-gray-100 text-red-500 opacity-70 group-hover:visible",onClick:t,children:(0,m.jsx)(k.Ybf,{size:22})})]})},S=(0,a.memo)(E),A=e=>{let{images:l,onClearImage:s,isLoading:a,reviewedImages:t}=e;return(0,m.jsxs)("div",{className:"flex flex-wrap justify-start gap-4 rounded-lg",children:[Array.from(l).map(((e,l)=>(0,m.jsx)(S,{image:e,onClearImage:s},l))),a&&Array.from(t).map(((e,l)=>(0,m.jsxs)("div",{className:"relative h-14 w-[calc(25%-12px)] rounded-lg",children:[(0,m.jsx)("img",{src:e,alt:"CStorage",className:"h-full w-full rounded-lg object-cover object-center opacity-50"}),(0,m.jsx)("div",{className:"absolute inset-0 m-auto h-4 w-4 animate-spin rounded-full border-2 border-t-gray-600"})]},l))),(0,m.jsx)("div",{className:"flex h-14 grow items-center justify-center rounded-lg bg-gray-100",children:(0,m.jsx)(N.Em2,{size:22})})]})},I=(0,a.memo)(A),O=e=>{let{className:l,containerClassName:s,error:t,inlineError:n=!1,multiple:i,value:c,label:d,disabled:u=!1,onChange:x,placeholder:f,...j}=e;const{t:y}=(0,o.$G)("company"),k=(0,b.Z)(),v=(0,a.useRef)(),[N,E]=(0,a.useState)([]),[S,A]=(0,a.useState)(!1),[O,L]=(0,a.useState)([]),M=(0,a.useRef)(!0),G=(0,a.useCallback)((()=>{v.current.click()}),[]),D=(0,a.useCallback)((async e=>{A(!0),i||null===E||void 0===E||E([]);try{const l=await r.TQ.uploadImage(e,p.Az.SYSTEM);if(i)return E((e=>[...e,l.absolute_url])),void(M.current=!1);null===x||void 0===x||x(l.absolute_url)}catch(l){l instanceof C.d7&&k.error(y("uploadError"))}finally{A(!1),L([])}}),[i,x,y,k]),Z=(0,a.useCallback)((e=>{const l=e.target.files;null!==l&&Array.from(l).forEach((e=>{L((l=>{return[...l,(s=e,s instanceof File?URL.createObjectURL(s):s.url)];var s})),D(e)}))}),[D]),$=(0,a.useCallback)(((e,l)=>{e.preventDefault(),e.stopPropagation(),E((e=>e.filter((e=>e!==l)))),i?null===x||void 0===x||x(N.filter((e=>e!==l))):null===x||void 0===x||x("")}),[N,i,x]);return(0,a.useEffect)((()=>{M.current||null===x||void 0===x||x(N)}),[N,x]),(0,a.useEffect)((()=>{M.current&&(c&&!(0,h.isEmpty)(c)?E(Array.isArray(c)?c:[c]):E([]))}),[c]),(0,m.jsxs)("div",{className:(0,g.m)("relative block cursor-text rounded-lg border-2 border-gray-100 bg-white px-4 py-4 ring-inset transition-colors duration-100 hover:border-blue-500",u&&"cursor-default bg-gray-50 ring-gray-100 hover:border-gray-100",s),children:[(0,m.jsxs)("div",{className:(0,g.m)("absolute left-2 top-1.5 z-5 -mt-0.5 flex -translate-y-4 items-center justify-between bg-white px-2 text-sm font-semibold text-blue-500 transition-all duration-100",u&&"text-gray-400"),children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 top-1/2 -z-30 w-full -translate-y-0.5"}),d]}),(0,m.jsxs)("button",{type:"button",className:(0,g.m)("block w-full cursor-pointer text-left outline-none",l),tabIndex:0,onClick:G,children:[(0,m.jsx)("input",{type:"file",className:"hidden",name:"input_file",ref:v,multiple:i,onChange:Z,...j}),(0,m.jsx)("div",{className:"h-full w-full",children:(null===N||void 0===N?void 0:N.length)>0||S?(0,m.jsx)(I,{images:N,onClearImage:$,isLoading:S,reviewedImages:O}):(0,m.jsx)(w,{placeholder:f})})]}),!n&&Boolean(t)&&(0,m.jsx)("div",{className:"-mb-1.5 mt-1.5 text-sm text-red-500",children:t})]})},L=(0,a.memo)(O),M=e=>{var l;let{name:s,control:a,rules:t,multiple:n,containerClassName:o,...i}=e;if(!a||!a.register)return(0,m.jsx)(L,{name:s,multiple:n,...i});const{field:{value:r=null,onChange:c,onBlur:d},formState:{errors:u}}=(0,j.bc)({name:s,control:a,rules:t});return(0,m.jsx)(L,{value:null!==r&&void 0!==r?r:null,error:null===(l=u[s])||void 0===l?void 0:l.message,multiple:n,onChange:c,onBlur:d,containerClassName:o,...(0,h.omit)(i,["value","onChange","onBlur"])})},G=(0,a.memo)(M);var D=s(4520);const Z={email:"",name:"",password:"",username:""},$=e=>{let{isOpen:l,user:s,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[h,g]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,j.cI)({defaultValues:Z}),E=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addUserSuccessfully")),r(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,n,r,x,f]),S=(0,a.useCallback)((async e=>{if(s)try{await c(s.uuid,e),f.success(x("edit")),d(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,c,d,x,f,s]),A=w((async e=>{g(!0),s?S(e):E(e)}));return(0,a.useEffect)((()=>{l&&(g(!1),v(s||Z))}),[l,v,s]),(0,m.jsxs)(i.u,{isLoading:h,isOpen:l,isFormModal:!0,title:x(s?"editUser":"addUser"),onClose:t,onConfirm:A,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("username"),name:"username"}),(0,m.jsx)(y.II,{className:"block",control:k,disabled:h,label:x("password"),name:"password",type:"password",autoSave:"off"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("email"),name:"email"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("name"),name:"name"}),(0,m.jsx)(G,{containerClassName:"w-full",name:"avatar",control:k,disabled:h,multiple:!1,label:x("avatar"),placeholder:x("chooseAvatar")})]})},z=(0,a.memo)($);var B=s(8080),R=s(8486),U=s(2070),Y=s(128);const P=e=>{let{alt:l,skeleton:s=!1,src:a,type:t,className:n}=e;return(0,m.jsxs)("div",{className:(0,g.m)("h-12 w-12 rounded-full bg-gray-100",n),children:[s&&(0,m.jsx)(U.oY,{className:(0,g.m)("h-full w-full rounded-full",n)}),!s&&t===p.n6.ROUNDED&&(0,m.jsx)(Y.q,{src:a||"",alt:l,className:"w-full h-full"}),!s&&t===p.n6.BOX&&(0,m.jsx)("img",{src:a||"",alt:l,className:"w-full h-full rounded-md"})]})},_=(0,a.memo)(P);var F=s(3045),V=s(1454),W=s(6127);const T=e=>{let{id:l,onClickEdit:s,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(V.Z,{data:l,onClick:s}),(0,m.jsx)(W.h8,{data:l,onClick:a})]})},H=(0,a.memo)(T),q=e=>{let{data:l,isLoading:s,onClickEdit:t,onClickDelete:n}=e;const{t:i}=(0,o.$G)(),r=(0,a.useMemo)((()=>(0,B.Cl)()),[]),c=(0,a.useMemo)((()=>[r.accessor((e=>String(e.uuid)),{id:"id",header:i("id")}),r.display({id:"avatar",header:i("avatar"),cell:e=>(0,m.jsx)(_,{alt:e.row.original.name,type:p.n6.ROUNDED}),meta:{skeleton:(0,m.jsx)(_,{skeleton:!0,type:p.n6.ROUNDED})}}),r.accessor((e=>e.username),{id:"username",header:i("username")}),r.accessor((e=>e.email),{id:"email",header:i("email")}),r.accessor((e=>e.name),{id:"name",header:i("name")}),r.display({id:"actions",cell:e=>(0,m.jsx)(H,{id:e.row.original.uuid,onClickEdit:t,onClickDelete:n}),meta:{skeleton:(0,m.jsx)(F.Z,{numberOfActions:2})}})]),[r,n,t,i]);return(0,m.jsx)(R.Z,{data:l,meta:null,columns:c,isLoading:s})},X=(0,a.memo)(q),Q=()=>{const{t:e}=(0,o.$G)(),[l,s]=(0,a.useState)([]),[t,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[C,j]=(0,a.useState)(!1),[y,h]=(0,a.useState)(null),g=(0,a.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===y)))&&void 0!==e?e:null}),[y,l]),b=(0,a.useCallback)((()=>{j(!0)}),[]),p=(0,a.useCallback)((e=>{h(null!==e&&void 0!==e?e:null),j(!0)}),[]),k=(0,a.useCallback)((e=>{h(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,a.useCallback)((()=>{j(!1),x(!1),h(null)}),[]),w=(0,a.useCallback)((async()=>{r.Vy.getUsers().then((e=>{s(e.data)})).finally((()=>{d(!1)}))}),[]);(0,a.useEffect)((()=>{w()}),[w]);const N=(0,a.useCallback)((async()=>{try{await(0,c.deleteUser)(y)}finally{w()}}),[y,w]);return(0,m.jsxs)(n.Vu,{title:e("userManagement"),action:(0,m.jsx)(f,{onClickAdd:b}),children:[(0,m.jsx)(X,{data:l,isLoading:t,onClickEdit:p,onClickDelete:k}),(0,m.jsx)(i.c,{title:e("deleteUser",{name:null===g||void 0===g?void 0:g.name}),message:e("deleteMessage"),isOpen:u,status:"danger",onClose:v,onConfirm:N}),(0,m.jsx)(z,{isOpen:C,user:g,onCreate:r.Vy.createUser,onCreated:w,onEdit:r.Vy.editUser,onEdited:w,onClose:v})]})},K=(0,a.memo)(Q);var J=s(6856),ee=s(9129),le=s(3962);const se=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(n.N_,{id:"adminSidebar",className:"pt-20",children:[(0,m.jsx)(n.GL,{id:"order",icon:(0,m.jsx)(J.nom,{}),text:e("order"),to:le.no.ORDER}),(0,m.jsx)(n.GL,{id:"product",icon:(0,m.jsx)(J.HUb,{}),text:e("product"),to:le.no.PRODUCT}),(0,m.jsx)(n.GL,{id:"category",icon:(0,m.jsx)(J.rA_,{}),text:e("category"),to:le.no.CATEGORY}),(0,m.jsx)(n.GL,{id:"user",icon:(0,m.jsx)(ee.tU0,{}),text:e("user"),to:le.no.USER}),(0,m.jsx)(n.GL,{id:"role",icon:(0,m.jsx)(ee.NLM,{}),text:e("role"),to:le.no.ROLE}),(0,m.jsx)(n.GL,{id:"config",icon:(0,m.jsx)(J.cgG,{}),text:e("config"),to:le.no.CONFIG})]})},ae=(0,a.memo)(se);var te=s(2489);const ne=e=>{let{id:l,onClickEdit:s,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(V.Z,{data:l,onClick:s}),(0,m.jsx)(W.h8,{data:l,onClick:a})]})},oe=(0,a.memo)(ne),ie=e=>{let{data:l,meta:s,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,B.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"id",header:r("id")}),c.accessor((e=>e.name),{id:"name",header:r("name")}),c.accessor((e=>e.description),{id:"description",header:r("description")}),c.display({id:"actions",cell:e=>(0,m.jsx)(oe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(F.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:l,meta:s,columns:d,isLoading:t})},re=(0,a.memo)(ie),ce={name:"",description:""},de=e=>{let{isOpen:l,category:s,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[h,g]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,j.cI)({defaultValues:ce}),E=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addCategorySuccessfully")),r(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,n,r,x,f]),S=(0,a.useCallback)((async e=>{if(s)try{await c(s.uuid,e),f.success(x("editCategorySuccessfully")),d(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,c,d,x,f,s]),A=w((async e=>{g(!0),s?S(e):E(e)}));return(0,a.useEffect)((()=>{l&&(g(!1),v(s||ce))}),[l,v,s]),(0,m.jsxs)(i.u,{isLoading:h,isOpen:l,isFormModal:!0,title:x(s?"editCategory":"addCategory"),onClose:t,onConfirm:A,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("name"),name:"name"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("description"),name:"description"})]})},ue=(0,a.memo)(de),me=e=>{let{onClickAdd:l}=e;const{t:s}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),s("addCategory")]})},xe=(0,a.memo)(me),fe=()=>{const{t:e}=(0,o.$G)(),[l,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,y]=(0,a.useState)(!1),h=(0,a.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),y(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),y(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,te.ML)();s(e),r(l)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,te.uu)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("categoryManagement"),action:(0,m.jsx)(xe,{onClickAdd:g}),children:[(0,m.jsx)(re,{data:l,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(ue,{isOpen:u,category:h,onCreate:te.k4,onCreated:v,onEdit:te.ht,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteCategory"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Ce=(0,a.memo)(fe),je=e=>{let{id:l,onClickEdit:s,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(V.Z,{data:l,onClick:s}),(0,m.jsx)(W.h8,{data:l,onClick:a})]})},ye=(0,a.memo)(je),he=e=>{let{data:l,meta:s,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,B.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"uuid",header:r("id")}),c.display({id:"img",header:r("img"),cell:e=>(0,m.jsx)(_,{className:"w-28 h-40 rounded-md",src:e.row.original.image,alt:e.row.original.name,type:p.n6.BOX}),meta:{skeleton:(0,m.jsx)(_,{skeleton:!0,type:p.n6.BOX})}}),c.accessor((e=>e.name),{id:"name",header:r("name")}),c.accessor((e=>e.price),{id:"price",header:r("price")}),c.accessor((e=>e.description),{id:"description",header:r("description")}),c.accessor((e=>e.category.name),{id:"category.name",header:r("category")}),c.display({id:"actions",cell:e=>(0,m.jsx)(ye,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(F.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:l,meta:s,columns:d,isLoading:t})},ge=(0,a.memo)(he),be={category_uuid:1,name:"",price:"",description:"",image:""},pe=e=>{let{isOpen:l,product:s,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[h,g]=(0,a.useState)(!1),[p,k]=(0,a.useState)(!0),[v,w]=(0,a.useState)([]),N=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:E,reset:S,handleSubmit:A,...I}=(0,j.cI)({defaultValues:be}),O=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addProductSuccessfully")),r(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,I.setError,null,N)}finally{g(!1)}}),[N,I.setError,t,n,r,x,f]),L=(0,a.useCallback)((async e=>{if(s)try{await c(s.uuid,e),f.success(x("editProductSuccessfully")),d(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,I.setError,null,N)}finally{g(!1)}}),[N,I.setError,t,c,d,x,f,s]),M=A((async e=>{g(!0),s?L(e):O(e)})),Z=(0,a.useCallback)((async()=>{try{const{data:e}=await(0,te.ML)();w(e)}finally{k(!1)}}),[]);(0,a.useEffect)((()=>{l&&(g(!1),S(s||be))}),[l,S,s]),(0,a.useEffect)((()=>{Z()}),[Z]);const $=(0,a.useMemo)((()=>v.map((e=>({value:e.uuid,label:e.name})))),[v]);return(0,m.jsxs)(i.u,{isLoading:h,isOpen:l,isFormModal:!0,title:x(s?"editProduct":"addProduct"),onClose:t,onConfirm:M,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:h,label:x("name"),name:"name"}),(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:h,label:x("description"),name:"description"}),(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:h,label:x("price"),name:"price"}),(0,m.jsx)(y.Ph,{isDisabled:p,name:"category_uuid",className:"w-full",control:E,options:$}),(0,m.jsx)(G,{containerClassName:"w-full",name:"image",control:E,disabled:h,multiple:!1,label:x("image"),placeholder:x("chooseImage")})]})},ke=(0,a.memo)(pe),ve=e=>{let{onClickAdd:l}=e;const{t:s}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),s("addProduct")]})},we=(0,a.memo)(ve);var Ne=s(1042);const Ee=()=>{const{t:e}=(0,o.$G)(),[l,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,y]=(0,a.useState)(!1),h=(0,a.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),y(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),y(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Ne.Xp)({expand:["product__category_uuid"]});s(e),r(l)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,Ne.Ir)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("productManagement"),action:(0,m.jsx)(we,{onClickAdd:g}),children:[(0,m.jsx)(ge,{data:l,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(ke,{isOpen:u,product:h,onCreate:Ne.ry,onCreated:v,onEdit:Ne.zG,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteProduct"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Se=(0,a.memo)(Ee);var Ae=s(289);const Ie=e=>{let{id:l,onClickEdit:s,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(V.Z,{data:l,onClick:s}),(0,m.jsx)(W.h8,{data:l,onClick:a})]})},Oe=(0,a.memo)(Ie),Le=e=>{let{data:l,meta:s,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,B.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"id",header:r("id")}),c.accessor((e=>e.name),{id:"name",header:r("name")}),c.display({id:"actions",cell:e=>(0,m.jsx)(Oe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(F.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:l,meta:s,columns:d,isLoading:t})},Me=(0,a.memo)(Le),Ge={name:""},De=e=>{let{isOpen:l,roleData:s,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[h,g]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,j.cI)({defaultValues:Ge}),E=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addRoleSuccessfully")),r(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,n,r,x,f]),S=(0,a.useCallback)((async e=>{if(s)try{await c(s.uuid,e),f.success(x("editRoleSuccessfully")),d(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,c,d,x,f,s]),A=w((async e=>{g(!0),s?S(e):E(e)}));return(0,a.useEffect)((()=>{l&&(g(!1),v(s||Ge))}),[l,v,s]),(0,m.jsx)(i.u,{isLoading:h,isOpen:l,isFormModal:!0,title:x(s?"editRole":"addRole"),onClose:t,onConfirm:A,...u,children:(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("name"),name:"name"})})},Ze=(0,a.memo)(De),$e=e=>{let{onClickAdd:l}=e;const{t:s}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),s("addRole")]})},ze=(0,a.memo)($e),Be=()=>{const{t:e}=(0,o.$G)(),[l,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,y]=(0,a.useState)(!1),h=(0,a.useMemo)((()=>{var e;return null!==(e=null===l||void 0===l?void 0:l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),y(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),y(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Ae.F3)();s(e),r(l)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,Ae.Rd)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("roleManagement"),action:(0,m.jsx)(ze,{onClickAdd:g}),children:[(0,m.jsx)(Me,{data:l,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(Ze,{isOpen:u,roleData:h,onCreate:Ae.fA,onCreated:v,onEdit:Ae.Aq,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteRole"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Re=(0,a.memo)(Be);var Ue=s(6363);const Ye=e=>{let{id:l,onClickEdit:s,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(V.Z,{data:l,onClick:s}),(0,m.jsx)(W.h8,{data:l,onClick:a})]})},Pe=(0,a.memo)(Ye),_e=e=>{let{data:l,meta:s,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,B.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"id",header:r("id")}),c.accessor((e=>e.key),{id:"key",header:r("key")}),c.accessor((e=>e.value),{id:"value",header:r("value")}),c.accessor((e=>e.description),{id:"description",header:r("description")}),c.display({id:"actions",cell:e=>(0,m.jsx)(Pe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(F.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:l,meta:s,columns:d,isLoading:t})},Fe=(0,a.memo)(_e);const Ve={key:"",type:s(510).AL.PUBLIC,description:""},We=e=>{let{isOpen:l,config:s,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[h,g]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,j.cI)({defaultValues:Ve}),E=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addConfigSuccessfully")),r(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,n,r,x,f]),S=(0,a.useCallback)((async e=>{if(s)try{await c(s.uuid,e),f.success(x("editConfigSuccessfully")),d(),t()}catch(l){l instanceof C.d7&&(0,D.yB)(l,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,c,d,x,f,s]),A=w((async e=>{g(!0),s?S(e):E(e)}));return(0,a.useEffect)((()=>{l&&(g(!1),v(s||Ve))}),[l,v,s]),(0,m.jsxs)(i.u,{isLoading:h,isOpen:l,isFormModal:!0,title:x(s?"editConfig":"addConfig"),onClose:t,onConfirm:A,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("key"),name:"key"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("value"),name:"value"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:h,label:x("description"),name:"description"})]})},Te=(0,a.memo)(We),He=e=>{let{onClickAdd:l}=e;const{t:s}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),s("addConfig")]})},qe=(0,a.memo)(He),Xe=()=>{const{t:e}=(0,o.$G)(),[l,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,y]=(0,a.useState)(!1),h=(0,a.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),y(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),y(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Ue.getConfigs)();s(e),r(l)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,Ue.deleteConfig)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("categoryManagement"),action:(0,m.jsx)(qe,{onClickAdd:g}),children:[(0,m.jsx)(Fe,{data:l,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(Te,{isOpen:u,config:h,onCreate:Ue.createConfig,onCreated:v,onEdit:Ue.editConfig,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteConfig"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Qe=(0,a.memo)(Xe),Ke=()=>(0,m.jsx)(n.kz,{sidebar:(0,m.jsx)(ae,{}),sidebarIds:["adminSidebar"],children:(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:"*",element:(0,m.jsx)("div",{className:"flex min-h-fit-layout w-full items-center justify-center",children:"Admin"})}),(0,m.jsx)(t.AW,{path:"product",element:(0,m.jsx)(Se,{})}),(0,m.jsx)(t.AW,{path:"user",element:(0,m.jsx)(K,{})}),(0,m.jsx)(t.AW,{path:"category",element:(0,m.jsx)(Ce,{})}),(0,m.jsx)(t.AW,{path:"role",element:(0,m.jsx)(Re,{})}),(0,m.jsx)(t.AW,{path:"config",element:(0,m.jsx)(Qe,{})})]})}),Je=(0,a.memo)(Ke);var el=s(2353),ll=s(8654),sl=s(2318);const al=e=>{let{name:l,onChangeFilter:s}=e;const t=(0,a.useCallback)((()=>{s(l)}),[s,l]);return(0,m.jsx)("div",{role:"button",tabIndex:0,onClick:t,className:"px-4 xs:w-fit  md:col-span-1 hover:bg-violet-100 hover:border-violet-500 md:w-full  font-semibold flex items-center justify-center h-16 rounded-lg border-2 border-gray-100",children:l})},tl=e=>{let{onChangeFilter:l}=e;const[s,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(!0),r=(0,b.Z)(),{t:c}=(0,o.$G)(),d=(0,a.useCallback)((async()=>{i(!0);try{const{data:e}=await(0,te.ML)();t([{uuid:5,name:"All",description:"all"},...e])}catch(e){r.error(c("unknown"))}finally{i(!1)}}),[c,r]);return(0,a.useEffect)((()=>{d()}),[d]),(0,m.jsxs)("div",{className:"w-full h-fit xs:px-6 md:px-20 xl:px-40 my-8 xs:flex xs:overflow-x-scroll hidden-scrollbar md:overflow-auto md:grid md:grid-cols-5 xs:gap-x-4 md:gap-x-6  ",children:[!n&&s.map((e=>(0,m.jsx)(al,{name:e.name,onChangeFilter:l},e.uuid))),n&&Array.from({length:5}).map(((e,l)=>(0,m.jsx)(U.oY,{className:" xs:w-fit bg-white md:col-span-1 md:w-full rounded-lg"},l)))]})};var nl=s(7370),ol=s(8870),il=s(9705),rl=(s(6497),s(4277),s(5792));const cl=()=>{const e=(0,el.Z)(rl.A.Kk);return(0,m.jsx)("div",{className:"w-full xs:h-60 md:h-120",children:(0,m.jsx)(il.tq,{spaceBetween:50,slidesPerView:1,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},modules:[ol.pt,ol.tl],children:(0,h.isEmpty)(e)?(0,m.jsx)(U.oY,{className:"w-full xs:h-60 md:h-120"}):null===e||void 0===e?void 0:e.map(((e,l)=>(0,m.jsx)(il.o5,{children:(0,m.jsx)("img",{className:"w-full xs:h-60 md:h-120 object-cover",alt:"de-mairiage",src:e})},l)))})})},dl=()=>{const[e,l]=(0,a.useState)(null),s=(0,a.useCallback)((e=>{l("All"!==e?l=>({...l,filterParams:[{filterBy:"filter.name",values:[e]}]}):e=>({...e,filterParams:[]}))}),[]);return(0,m.jsxs)("div",{className:"w-full h-fit",children:[(0,m.jsx)(cl,{}),(0,m.jsx)(tl,{onChangeFilter:s}),(0,m.jsx)(nl.Z,{queryParams:e,setQueryParams:l})]})};var ul=s(8866),ml=s(8439);const xl=e=>{let{title:l}=e;return(0,ml.Z)(l),(0,m.jsxs)("div",{className:"flex flex-col items-center py-20",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center pb-20",children:[(0,m.jsx)("div",{className:"text-4xl font-semibold uppercase",children:l}),(0,m.jsx)(U.oY,{className:"mt-6 h-4 w-56"})]}),(0,m.jsxs)("div",{className:"min-h-72 w-full max-w-4xl space-y-4 rounded-xl border-2 border-gray-100 bg-white p-6 shadow-md shadow-gray-100 ",children:[(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-3/4"}),(0,m.jsx)("div",{className:"h-4"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-1/4"})]})]})},fl=(0,a.memo)(xl),Cl=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:ul.a0.HOME,element:(0,m.jsx)(dl,{})}),(0,m.jsx)(t.AW,{path:ul.a0.CONTACT,element:(0,m.jsx)(fl,{title:e("contact")})}),(0,m.jsx)(t.AW,{path:ul.a0.CARD,element:(0,m.jsx)(fl,{title:e("card")})}),(0,m.jsx)(t.AW,{path:ul.a0.BLOGS,element:(0,m.jsx)(fl,{title:e("blogs")})}),(0,m.jsx)(t.AW,{path:ul.a0.NOT_FOUND,element:(0,m.jsx)(sl.F2,{})})]})},jl=(0,a.memo)(Cl),yl=()=>{const{isAdmin:e}=(0,el.Z)(ll.L3);return(0,m.jsxs)(t.Z5,{children:[e&&(0,m.jsx)(t.AW,{path:"admin/*",element:(0,m.jsx)(Je,{})}),(0,m.jsx)(t.AW,{path:"/*",element:(0,m.jsx)(jl,{})})]})},hl=(0,a.memo)(yl)}}]);
//# sourceMappingURL=479.29fd4abd.chunk.js.map