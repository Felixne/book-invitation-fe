"use strict";(self.webpackChunkdemariage=self.webpackChunkdemariage||[]).push([[546],{6571:(e,l,a)=>{a.r(l),a.d(l,{default:()=>Nl});var s=a(2791),t=a(7689),n=a(535),o=a(9230),i=a(6806),r=a(3012),c=a(58),d=a(7692),u=a(1655),m=a(184);const x=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.cHT,{size:24,className:"mr-2"}),a("addUser")]})},f=(0,s.memo)(x);var j=a(7477),C=a(1134),y=a(3960),g=a(763),p=a(6866),h=a(9300);var b=a(2785),k=a(3853);const v=e=>{let{placeholder:l}=e;return(0,m.jsxs)("div",{className:"grid h-14 w-full grid-cols-6 gap-x-2",children:[(0,m.jsx)("div",{className:"col-span-5 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:l}),(0,m.jsx)("div",{className:"col-span-1 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:(0,m.jsx)(k.Yjd,{size:24})})]})},w=(0,s.memo)(v);var N=a(8820);const E=e=>{let{image:l,onClearImage:a}=e;const t=(0,s.useCallback)((e=>{a(e,l)}),[l,a]);return(0,m.jsxs)("div",{className:"group relative aspect-4/3 h-14 w-[calc(25%-12px)] flex-none rounded-lg",children:[(0,m.jsx)("img",{src:l,alt:"cstorage",className:"h-full w-full rounded-lg object-cover object-center"}),(0,m.jsx)("div",{role:"button",tabIndex:0,className:"invisible absolute top-0 flex h-full w-full items-center justify-center rounded-lg bg-gray-100 text-red-500 opacity-70 group-hover:visible",onClick:t,children:(0,m.jsx)(k.Ybf,{size:22})})]})},S=(0,s.memo)(E),A=e=>{let{images:l,onClearImage:a,isLoading:s,reviewedImages:t}=e;return(0,m.jsxs)("div",{className:"flex flex-wrap justify-start gap-4 rounded-lg",children:[Array.from(l).map(((e,l)=>(0,m.jsx)(S,{image:e,onClearImage:a},l))),s&&Array.from(t).map(((e,l)=>(0,m.jsxs)("div",{className:"relative h-14 w-[calc(25%-12px)] rounded-lg",children:[(0,m.jsx)("img",{src:e,alt:"CStorage",className:"h-full w-full rounded-lg object-cover object-center opacity-50"}),(0,m.jsx)("div",{className:"absolute inset-0 m-auto h-4 w-4 animate-spin rounded-full border-2 border-t-gray-600"})]},l))),(0,m.jsx)("div",{className:"flex h-14 grow items-center justify-center rounded-lg bg-gray-100",children:(0,m.jsx)(N.Em2,{size:22})})]})},I=(0,s.memo)(A),O=e=>{let{className:l,containerClassName:a,error:t,inlineError:n=!1,multiple:i,value:c,label:d,disabled:u=!1,onChange:x,placeholder:f,...C}=e;const{t:y}=(0,o.$G)("company"),k=(0,h.Z)(),v=(0,s.useRef)(),[N,E]=(0,s.useState)([]),[S,A]=(0,s.useState)(!1),[O,G]=(0,s.useState)([]),D=(0,s.useRef)(!0),M=(0,s.useCallback)((()=>{v.current.click()}),[]),L=(0,s.useCallback)((async e=>{A(!0),i||null===E||void 0===E||E([]);try{const l=await r.TQ.uploadImage(e,b.Az.SYSTEM);if(i)return E((e=>[...e,l.absolute_url])),void(D.current=!1);null===x||void 0===x||x(l.absolute_url)}catch(l){l instanceof j.d7&&k.error(y("uploadError"))}finally{A(!1),G([])}}),[i,x,y,k]),B=(0,s.useCallback)((e=>{const l=e.target.files;null!==l&&Array.from(l).forEach((e=>{G((l=>{return[...l,(a=e,a instanceof File?URL.createObjectURL(a):a.url)];var a})),L(e)}))}),[L]),Z=(0,s.useCallback)(((e,l)=>{e.preventDefault(),e.stopPropagation(),E((e=>e.filter((e=>e!==l)))),i?null===x||void 0===x||x(N.filter((e=>e!==l))):null===x||void 0===x||x("")}),[N,i,x]);return(0,s.useEffect)((()=>{D.current||null===x||void 0===x||x(N)}),[N,x]),(0,s.useEffect)((()=>{D.current&&(c&&!(0,g.isEmpty)(c)?E(Array.isArray(c)?c:[c]):E([]))}),[c]),(0,m.jsxs)("div",{className:(0,p.m)("relative block cursor-text rounded-lg border-2 border-gray-100 bg-white px-4 py-4 ring-inset transition-colors duration-100 hover:border-blue-500",u&&"cursor-default bg-gray-50 ring-gray-100 hover:border-gray-100",a),children:[(0,m.jsxs)("div",{className:(0,p.m)("absolute left-2 top-1.5 z-5 -mt-0.5 flex -translate-y-4 items-center justify-between bg-white px-2 text-sm font-semibold text-blue-500 transition-all duration-100",u&&"text-gray-400"),children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 top-1/2 -z-30 w-full -translate-y-0.5"}),d]}),(0,m.jsxs)("button",{type:"button",className:(0,p.m)("block w-full cursor-pointer text-left outline-none",l),tabIndex:0,onClick:M,children:[(0,m.jsx)("input",{type:"file",className:"hidden",name:"input_file",ref:v,multiple:i,onChange:B,...C}),(0,m.jsx)("div",{className:"h-full w-full",children:(null===N||void 0===N?void 0:N.length)>0||S?(0,m.jsx)(I,{images:N,onClearImage:Z,isLoading:S,reviewedImages:O}):(0,m.jsx)(w,{placeholder:f})})]}),!n&&Boolean(t)&&(0,m.jsx)("div",{className:"-mb-1.5 mt-1.5 text-sm text-red-500",children:t})]})},G=(0,s.memo)(O),D=e=>{var l;let{name:a,control:s,rules:t,multiple:n,containerClassName:o,...i}=e;if(!s||!s.register)return(0,m.jsx)(G,{name:a,multiple:n,...i});const{field:{value:r=null,onChange:c,onBlur:d},formState:{errors:u}}=(0,C.bc)({name:a,control:s,rules:t});return(0,m.jsx)(G,{value:null!==r&&void 0!==r?r:null,error:null===(l=u[a])||void 0===l?void 0:l.message,multiple:n,onChange:c,onBlur:d,containerClassName:o,...(0,g.omit)(i,["value","onChange","onBlur"])})},M=(0,s.memo)(D);var L=a(4520);const B={email:"",name:"",password:"",username:""},Z=e=>{let{isOpen:l,user:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[g,p]=(0,s.useState)(!1),b=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,C.cI)({defaultValues:B}),E=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addUserSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{p(!1)}}),[b,N.setError,t,n,r,x,f]),S=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("edit")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{p(!1)}}),[b,N.setError,t,c,d,x,f,a]),A=w((async e=>{p(!0),a?S(e):E(e)}));return(0,s.useEffect)((()=>{l&&(p(!1),v(a||B))}),[l,v,a]),(0,m.jsxs)(i.u,{isLoading:g,isOpen:l,isFormModal:!0,title:x(a?"editUser":"addUser"),onClose:t,onConfirm:A,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:g,label:x("username"),name:"username"}),(0,m.jsx)(y.II,{className:"block",control:k,disabled:g,label:x("password"),name:"password",type:"password",autoSave:"off"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:g,label:x("email"),name:"email"}),(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:g,label:x("name"),name:"name"}),(0,m.jsx)(M,{containerClassName:"w-full",name:"avatar",control:k,disabled:g,multiple:!1,label:x("avatar"),placeholder:x("chooseAvatar")})]})},$=(0,s.memo)(Z);var z=a(8080),R=a(8486),U=a(2070),F=a(128);const P=e=>{let{alt:l,skeleton:a=!1,src:s,type:t,className:n}=e;return(0,m.jsxs)("div",{className:(0,p.m)("h-12 w-12 rounded-full bg-gray-100",n),children:[a&&(0,m.jsx)(U.oY,{className:(0,p.m)("h-full w-full rounded-full",n)}),!a&&t===b.n6.ROUNDED&&(0,m.jsx)(F.q,{src:s||"",alt:l,className:"w-full h-full"}),!a&&t===b.n6.BOX&&(0,m.jsx)("img",{src:s||"",alt:l,className:"w-full h-full rounded-md"})]})},V=(0,s.memo)(P);var _=a(3045),Y=a(1454),W=a(6127);const T=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(Y.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},X=(0,s.memo)(T),H=e=>{let{data:l,isLoading:a,onClickEdit:t,onClickDelete:n,onGetAll:i,...r}=e;const{t:c}=(0,o.$G)(),d=(0,s.useMemo)((()=>(0,z.Cl)()),[]),u=(0,s.useMemo)((()=>[d.accessor((e=>String(e.uuid)),{id:"uuid",header:c("id")}),d.display({id:"avatar",header:c("avatar"),cell:e=>(0,m.jsx)(V,{alt:e.row.original.name,type:b.n6.ROUNDED}),meta:{skeleton:(0,m.jsx)(V,{skeleton:!0,type:b.n6.ROUNDED})}}),d.accessor((e=>e.username),{id:"username",header:c("username"),meta:{filterBy:"username",getFilterOptions:i}}),d.accessor((e=>e.email),{id:"email",header:c("email"),meta:{filterBy:"email",getFilterOptions:i}}),d.accessor((e=>e.name),{id:"name",header:c("name"),meta:{filterBy:"name",getFilterOptions:i}}),d.display({id:"actions",cell:e=>(0,m.jsx)(X,{id:e.row.original.uuid,onClickEdit:t,onClickDelete:n}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[d,n,t,c,i]);return(0,m.jsx)(R.Z,{data:l,columns:u,isLoading:a,...r})},q=(0,s.memo)(H),Q=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,d]=(0,s.useState)(null),[u,x]=(0,s.useState)(!0),[j,C]=(0,s.useState)(!1),[y,g]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[b,k]=(0,s.useState)({}),v=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===p)))&&void 0!==e?e:null}),[p,l]),w=(0,s.useCallback)((()=>{g(!0)}),[]),N=(0,s.useCallback)((e=>{h(null!==e&&void 0!==e?e:null),g(!0)}),[]),E=(0,s.useCallback)((e=>{h(null!==e&&void 0!==e?e:null),C(!0)}),[]),S=(0,s.useCallback)((()=>{g(!1),C(!1),h(null)}),[]),A=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await r.Vy.getUsers(b);a(e),d(l)}finally{x(!1)}}),[b]);(0,s.useEffect)((()=>{A()}),[A]);const I=(0,s.useCallback)((async()=>{try{await(0,c.deleteUser)(p)}finally{A()}}),[p,A]);return(0,m.jsxs)(n.Vu,{title:e("userManagement"),action:(0,m.jsx)(f,{onClickAdd:w}),children:[(0,m.jsx)(q,{data:l,meta:t,isLoading:u,onClickEdit:N,onClickDelete:E,onChangeState:k,onGetAll:r.Vy.getUsers}),(0,m.jsx)(i.c,{title:e("deleteUser",{name:null===v||void 0===v?void 0:v.name}),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:S,onConfirm:I}),(0,m.jsx)($,{isOpen:y,user:v,onCreate:r.Vy.createUser,onCreated:A,onEdit:r.Vy.editUser,onEdited:A,onClose:S})]})},K=(0,s.memo)(Q);var J=a(6856),ee=a(9129),le=a(3962);const ae=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(n.N_,{id:"adminSidebar",className:"pt-20",children:[(0,m.jsx)(n.GL,{id:"order",icon:(0,m.jsx)(J.nom,{}),text:e("order"),to:le.no.ORDER}),(0,m.jsx)(n.GL,{id:"product",icon:(0,m.jsx)(J.HUb,{}),text:e("product"),to:le.no.PRODUCT}),(0,m.jsx)(n.GL,{id:"category",icon:(0,m.jsx)(J.rA_,{}),text:e("category"),to:le.no.CATEGORY}),(0,m.jsx)(n.GL,{id:"user",icon:(0,m.jsx)(ee.tU0,{}),text:e("user"),to:le.no.USER}),(0,m.jsx)(n.GL,{id:"role",icon:(0,m.jsx)(ee.NLM,{}),text:e("role"),to:le.no.ROLE}),(0,m.jsx)(n.GL,{id:"config",icon:(0,m.jsx)(J.cgG,{}),text:e("config"),to:le.no.CONFIG})]})},se=(0,s.memo)(ae);var te=a(2489);const ne=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(Y.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},oe=(0,s.memo)(ne),ie=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"id",header:d("id")}),u.accessor((e=>e.name),{id:"name",header:d("name"),meta:{filterBy:"name",getFilterOptions:r}}),u.accessor((e=>e.description),{id:"description",header:d("description")}),u.display({id:"actions",cell:e=>(0,m.jsx)(oe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},re=(0,s.memo)(ie),ce={name:"",description:""},de=e=>{let{isOpen:l,category:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[p,b]=(0,s.useState)(!1),[k,v]=(0,s.useState)(!0),[w,N]=(0,s.useState)([]),E=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:S,reset:A,handleSubmit:I,...O}=(0,C.cI)({defaultValues:ce}),G=(0,s.useCallback)((async e=>{try{await n((0,g.omit)(e,"parent_uuid")),f.success(x("addCategorySuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,O.setError,null,E)}finally{b(!1)}}),[E,O.setError,t,n,r,x,f]),D=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editCategorySuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,O.setError,null,E)}finally{b(!1)}}),[E,O.setError,t,c,d,x,f,a]),M=I((async e=>{b(!0),a?D(e):G(e)})),B=(0,s.useCallback)((async e=>{try{const{data:l}=await(0,te.Sp)(e);N(l)}finally{v(!1)}}),[]);(0,s.useEffect)((()=>{if(l){if(b(!1),a)return B(a.uuid),void A(a);A(ce)}}),[l,A,a,B]);const Z=(0,s.useMemo)((()=>w.map((e=>({value:e.uuid,label:e.name})))),[w]);return(0,m.jsxs)(i.u,{isLoading:p,isOpen:l,isFormModal:!0,title:x(a?"editCategory":"addCategory"),onClose:t,onConfirm:M,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:S,disabled:p,label:x("name"),name:"name"}),(0,m.jsx)(y.II,{className:"block w-full",control:S,disabled:p,label:x("description"),name:"description"}),a&&(0,m.jsx)(y.Ph,{isDisabled:k,name:"parent_uuid",className:"w-full",control:S,options:Z,placeholder:x("category")})]})},ue=(0,s.memo)(de),me=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addCategory")]})},xe=(0,s.memo)(me),fe=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[C,y]=(0,s.useState)(!1),[g,p]=(0,s.useState)({}),h=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),b=(0,s.useCallback)((()=>{x(!0)}),[]),k=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,s.useCallback)((()=>{x(!1),y(!1),j(null)}),[]),w=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),y(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,te.ML)(g);a(e),r(l)}finally{d(!1)}}),[g]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,te.uu)(f)}finally{N()}}),[f,N]);return(0,m.jsxs)(n.Vu,{title:e("categoryManagement"),action:(0,m.jsx)(xe,{onClickAdd:b}),children:[(0,m.jsx)(re,{data:l,meta:t,isLoading:c,onClickEdit:k,onClickDelete:w,onChangeState:p,onGetAll:te.ML}),(0,m.jsx)(ue,{isOpen:u,category:h,onCreate:te.k4,onCreated:N,onEdit:te.ht,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteCategory"),message:e("deleteMessage"),isOpen:C,status:"danger",onClose:v,onConfirm:E})]})},je=(0,s.memo)(fe),Ce=e=>{let{images:l}=e;return(0,m.jsx)("div",{className:"w-fit flex items-start gap-x-2",children:null===l||void 0===l?void 0:l.map(((e,l)=>(0,m.jsx)("img",{src:e,alt:e,className:"h-20 w-20 rounded-md"},l)))})},ye=(0,s.memo)(Ce),ge=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(Y.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},pe=(0,s.memo)(ge),he=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"uuid",header:d("id")}),u.display({id:"img",header:d("img"),cell:e=>(0,m.jsx)(V,{className:"h-20 w-20 rounded-md",src:e.row.original.image,alt:e.row.original.name,type:b.n6.BOX}),meta:{skeleton:(0,m.jsx)(V,{skeleton:!0,type:b.n6.BOX})}}),u.display({id:"detail_images",header:d("detailImages"),cell:e=>(0,m.jsx)(ye,{images:e.row.original.detail_images}),meta:{skeleton:(0,m.jsx)(V,{skeleton:!0,type:b.n6.BOX})}}),u.accessor((e=>e.name),{id:"name",header:d("name"),meta:{filterBy:"name",getFilterOptions:r}}),u.accessor((e=>e.price),{id:"price",header:d("price")}),u.accessor((e=>e.description),{id:"description",header:d("description")}),u.accessor((e=>e.category.name),{id:"category.name",header:d("category")}),u.display({id:"actions",cell:e=>(0,m.jsx)(pe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},be=(0,s.memo)(he),ke={category_uuid:1,name:"",price:"",description:"",image:"",detail_images:[]},ve=e=>{let{isOpen:l,product:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[g,p]=(0,s.useState)(!1),[b,k]=(0,s.useState)(!0),[v,w]=(0,s.useState)([]),N=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:E,reset:S,handleSubmit:A,...I}=(0,C.cI)({defaultValues:ke}),O=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addProductSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,I.setError,null,N)}finally{p(!1)}}),[N,I.setError,t,n,r,x,f]),G=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editProductSuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,I.setError,null,N)}finally{p(!1)}}),[N,I.setError,t,c,d,x,f,a]),D=A((async e=>{p(!0),a?G(e):O(e)})),B=(0,s.useCallback)((async()=>{try{const{data:e}=await(0,te.ML)();w(e)}finally{k(!1)}}),[]);(0,s.useEffect)((()=>{l&&(p(!1),S(a||ke))}),[l,S,a]),(0,s.useEffect)((()=>{B()}),[B]);const Z=(0,s.useMemo)((()=>v.map((e=>({value:e.uuid,label:e.name})))),[v]);return(0,m.jsxs)(i.u,{isLoading:g,isOpen:l,isFormModal:!0,title:x(a?"editProduct":"addProduct"),onClose:t,onConfirm:D,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:g,label:x("name"),name:"name"}),(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:g,label:x("description"),name:"description"}),(0,m.jsx)(y.II,{className:"block w-full",control:E,disabled:g,label:x("price"),name:"price"}),(0,m.jsx)(y.Ph,{isDisabled:b,name:"category_uuid",className:"w-full",control:E,options:Z,placeholder:x("category")}),(0,m.jsx)(M,{containerClassName:"w-full",name:"image",control:E,disabled:g,multiple:!1,label:x("image"),placeholder:x("chooseImage")}),(0,m.jsx)(M,{containerClassName:"w-full",name:"detail_images",control:E,disabled:g,multiple:!0,label:x("detailImages"),placeholder:x("chooseImage")})]})},we=(0,s.memo)(ve),Ne=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addProduct")]})},Ee=(0,s.memo)(Ne);var Se=a(1042);const Ae=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[C,y]=(0,s.useState)(!1),[g,p]=(0,s.useState)({}),h=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),b=(0,s.useCallback)((()=>{x(!0)}),[]),k=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,s.useCallback)((()=>{x(!1),y(!1),j(null)}),[]),w=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),y(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Se.Xp)({expand:["product__category_uuid"],...g});a(e),r(l)}finally{d(!1)}}),[g]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,Se.Ir)(f)}finally{N()}}),[f,N]);return(0,m.jsxs)(n.Vu,{title:e("productManagement"),action:(0,m.jsx)(Ee,{onClickAdd:b}),children:[(0,m.jsx)(be,{data:l,meta:t,isLoading:c,onClickEdit:k,onClickDelete:w,onChangeState:p,onGetAll:Se.Xp}),(0,m.jsx)(we,{isOpen:u,product:h,onCreate:Se.ry,onCreated:N,onEdit:Se.zG,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteProduct"),message:e("deleteMessage"),isOpen:C,status:"danger",onClose:v,onConfirm:E})]})},Ie=(0,s.memo)(Ae);var Oe=a(289);const Ge=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(Y.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},De=(0,s.memo)(Ge),Me=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"id",header:d("id")}),u.accessor((e=>e.name),{id:"name",header:d("name"),meta:{filterBy:"name",getFilterOptions:r}}),u.display({id:"actions",cell:e=>(0,m.jsx)(De,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},Le=(0,s.memo)(Me),Be={name:""},Ze=e=>{let{isOpen:l,roleData:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[g,p]=(0,s.useState)(!1),b=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,C.cI)({defaultValues:Be}),E=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addRoleSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{p(!1)}}),[b,N.setError,t,n,r,x,f]),S=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editRoleSuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,N.setError,null,b)}finally{p(!1)}}),[b,N.setError,t,c,d,x,f,a]),A=w((async e=>{p(!0),a?S(e):E(e)}));return(0,s.useEffect)((()=>{l&&(p(!1),v(a||Be))}),[l,v,a]),(0,m.jsx)(i.u,{isLoading:g,isOpen:l,isFormModal:!0,title:x(a?"editRole":"addRole"),onClose:t,onConfirm:A,...u,children:(0,m.jsx)(y.II,{className:"block w-full",control:k,disabled:g,label:x("name"),name:"name"})})},$e=(0,s.memo)(Ze),ze=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addRole")]})},Re=(0,s.memo)(ze),Ue=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)({}),[u,x]=(0,s.useState)(!0),[f,j]=(0,s.useState)(!1),[C,y]=(0,s.useState)(null),[g,p]=(0,s.useState)(!1),h=(0,s.useMemo)((()=>{var e;return null!==(e=null===l||void 0===l?void 0:l.find((e=>e.uuid===C)))&&void 0!==e?e:null}),[C,l]),b=(0,s.useCallback)((()=>{j(!0)}),[]),k=(0,s.useCallback)((e=>{y(null!==e&&void 0!==e?e:null),j(!0)}),[]),v=(0,s.useCallback)((()=>{j(!1),p(!1),y(null)}),[]),w=(0,s.useCallback)((e=>{y(null!==e&&void 0!==e?e:null),p(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Oe.F3)(c);a(e),r(l)}finally{x(!1)}}),[c]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,Oe.Rd)(C)}finally{N()}}),[C,N]);return(0,m.jsxs)(n.Vu,{title:e("roleManagement"),action:(0,m.jsx)(Re,{onClickAdd:b}),children:[(0,m.jsx)(Le,{data:l,meta:t,isLoading:u,onClickEdit:k,onClickDelete:w,onChangeState:d,onGetAll:Oe.F3}),(0,m.jsx)($e,{isOpen:f,roleData:h,onCreate:Oe.fA,onCreated:N,onEdit:Oe.Aq,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteRole"),message:e("deleteMessage"),isOpen:g,status:"danger",onClose:v,onConfirm:E})]})},Fe=(0,s.memo)(Ue);var Pe=a(6363);const Ve=e=>{let{id:l,onClickEdit:a,onClickDelete:s}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(Y.Z,{data:l,onClick:a}),(0,m.jsx)(W.h8,{data:l,onClick:s})]})},_e=(0,s.memo)(Ve);var Ye=a(510);const We=e=>{let{config:l}=e;return(null===l||void 0===l?void 0:l.datatype)===Ye.Df.NUMBER?(0,m.jsx)("div",{className:"text-blue-500",children:l.value}):(null===l||void 0===l?void 0:l.datatype)===Ye.Df.IMAGE?(0,m.jsx)(V,{type:b.n6.BOX,src:l.value}):(null===l||void 0===l?void 0:l.datatype)===Ye.Df.BOOLEAN?(0,m.jsx)(y.ZD,{isOn:Boolean(l.value)}):(null===l||void 0===l?void 0:l.datatype)===Ye.Df.IMAGES?(0,m.jsx)(ye,{images:l.value||[]}):(0,m.jsx)("div",{children:l.value})},Te=(0,s.memo)(We),Xe=e=>{let{data:l,meta:a,isLoading:t,onClickEdit:n,onClickDelete:i,onGetAll:r,...c}=e;const{t:d}=(0,o.$G)(),u=(0,s.useMemo)((()=>(0,z.Cl)()),[]),x=(0,s.useMemo)((()=>[u.accessor((e=>String(e.uuid)),{id:"id",header:d("id")}),u.accessor((e=>e.key),{id:"key",header:d("key"),meta:{filterBy:"key",getFilterOptions:r}}),u.accessor((e=>e.datatype),{id:"datatype",header:d("datatype")}),u.display({id:"value",cell:e=>(0,m.jsx)(Te,{config:e.row.original})}),u.accessor((e=>e.description),{id:"description",header:d("description")}),u.display({id:"actions",cell:e=>(0,m.jsx)(_e,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[u,i,n,d,r]);return(0,m.jsx)(R.Z,{data:l,meta:a,columns:x,isLoading:t,...c})},He=(0,s.memo)(Xe),qe=e=>{let{control:l,type:a,isSubmitting:s}=e;const{t:t}=(0,o.$G)();return a===Ye.Df.NUMBER?(0,m.jsx)(y.II,{className:"block w-full",control:l,disabled:s,label:t("value"),name:"value",type:"number"}):a===Ye.Df.IMAGE?(0,m.jsx)(M,{containerClassName:"w-full",name:"value",control:l,disabled:s,multiple:!1,label:t("value"),placeholder:t("chooseImage")}):a===Ye.Df.IMAGES?(0,m.jsx)(M,{containerClassName:"w-full",name:"value",control:l,disabled:s,multiple:!0,label:t("value"),placeholder:t("chooseImage")}):a===Ye.Df.BOOLEAN?(0,m.jsx)("div",{className:"w-full hover:border-blue-700 h-[54px]  flex px-4 items-center justify-end border-gray-100 rounded-lg border-2",children:(0,m.jsx)(y.ZD,{className:"block w-full",control:l,disabled:s,name:"value"})}):(0,m.jsx)(y.II,{className:"block w-full",control:l,disabled:s,label:t("value"),name:"value"})},Qe=(0,s.memo)(qe),Ke={value:null,key:"",type:Ye.AL.PUBLIC,description:"",datatype:Ye.Df.TEXT},Je=e=>{let{isOpen:l,config:a,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,h.Z)(),[p,b]=(0,s.useState)(!1),k=(0,s.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:v,reset:w,handleSubmit:N,watch:E,...S}=(0,C.cI)({defaultValues:Ke}),A=(0,s.useCallback)((async e=>{try{await n(e),f.success(x("addConfigSuccessfully")),r(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,S.setError,null,k)}finally{b(!1)}}),[k,S.setError,t,n,r,x,f]),I=(0,s.useCallback)((async e=>{if(a)try{await c(a.uuid,e),f.success(x("editConfigSuccessfully")),d(),t()}catch(l){l instanceof j.d7&&(0,L.yB)(l,S.setError,null,k)}finally{b(!1)}}),[k,S.setError,t,c,d,x,f,a]),O=N((async e=>{b(!0);let l={};l=e.datatype===Ye.Df.IMAGES?{...e,value:[e.value]}:e,a?I(e):A(l)})),G=(0,g.values)(Ye.Df).map((e=>({label:e,value:e})));return(0,s.useEffect)((()=>{l&&(b(!1),w(a||Ke))}),[l,w,a]),(0,m.jsxs)(i.u,{isLoading:p,isOpen:l,isFormModal:!0,title:x(a?"editConfig":"addConfig"),onClose:t,onConfirm:O,...u,children:[(0,m.jsx)(y.II,{className:"block w-full",control:v,disabled:p,label:x("key"),name:"key"}),(0,m.jsx)(y.II,{className:"block w-full",control:v,disabled:p,label:x("description"),name:"description"}),(0,m.jsx)(y.Ph,{isDisabled:p,name:"datatype",className:"w-full",control:v,options:G,placeholder:x("datatype")}),(0,m.jsx)(Qe,{type:E("datatype"),control:v,isSubmitting:p})]})},el=(0,s.memo)(Je),ll=e=>{let{onClickAdd:l}=e;const{t:a}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:l,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),a("addConfig")]})},al=(0,s.memo)(ll),sl=()=>{const{t:e}=(0,o.$G)(),[l,a]=(0,s.useState)([]),[t,r]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),[u,x]=(0,s.useState)(!1),[f,j]=(0,s.useState)(null),[C,y]=(0,s.useState)(!1),[g,p]=(0,s.useState)({}),h=(0,s.useMemo)((()=>{var e;return null!==(e=l.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,l]),b=(0,s.useCallback)((()=>{x(!0)}),[]),k=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,s.useCallback)((()=>{x(!1),y(!1),j(null)}),[]),w=(0,s.useCallback)((e=>{j(null!==e&&void 0!==e?e:null),y(!0)}),[]),N=(0,s.useCallback)((async()=>{try{const{data:e,meta:l}=await(0,Pe.getConfigs)(g);a(e),r(l)}finally{d(!1)}}),[g]);(0,s.useEffect)((()=>{N()}),[N]);const E=(0,s.useCallback)((async()=>{try{await(0,Pe.deleteConfig)(f)}finally{N()}}),[f,N]);return(0,m.jsxs)(n.Vu,{title:e("configManagement"),action:(0,m.jsx)(al,{onClickAdd:b}),children:[(0,m.jsx)(He,{data:l,meta:t,isLoading:c,onClickEdit:k,onClickDelete:w,onChangeState:p,onGetAll:Pe.getConfigs}),(0,m.jsx)(el,{isOpen:u,config:h,onCreate:Pe.createConfig,onCreated:N,onEdit:Pe.editConfig,onEdited:N,onClose:v}),(0,m.jsx)(i.c,{title:e("deleteConfig"),message:e("deleteMessage"),isOpen:C,status:"danger",onClose:v,onConfirm:E})]})},tl=(0,s.memo)(sl),nl=()=>(0,m.jsx)(n.kz,{sidebar:(0,m.jsx)(se,{}),sidebarIds:["adminSidebar"],children:(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:"*",element:(0,m.jsx)("div",{className:"flex min-h-fit-layout w-full items-center justify-center",children:"Admin"})}),(0,m.jsx)(t.AW,{path:"product",element:(0,m.jsx)(Ie,{})}),(0,m.jsx)(t.AW,{path:"user",element:(0,m.jsx)(K,{})}),(0,m.jsx)(t.AW,{path:"category",element:(0,m.jsx)(je,{})}),(0,m.jsx)(t.AW,{path:"role",element:(0,m.jsx)(Fe,{})}),(0,m.jsx)(t.AW,{path:"config",element:(0,m.jsx)(tl,{})})]})}),ol=(0,s.memo)(nl);var il=a(2353),rl=a(8654),cl=a(2318),dl=a(8870),ul=a(9705);a(6497),a(4277);const ml=e=>{let{category:l,onChangeFilter:a}=e;const t=(0,s.useCallback)((()=>{a(l)}),[a,l]);return(0,m.jsx)("div",{role:"button",tabIndex:0,onClick:t,className:"p-4 w-fit hover:bg-violet-100 hover:border-violet-500  font-semibold flex items-center justify-center h-16 rounded-lg border-2 border-gray-100",children:(0,m.jsx)("div",{className:"xs:w-32 md:w-40 text-center",children:l.name})})},xl=e=>{let{onChangeFilter:l}=e;const a=(0,il.Z)((e=>e.common.categories));return(0,m.jsx)("div",{className:"w-full h-fit xs:px-6 md:px-20 xl:px-40 my-8 ",children:(0,m.jsx)(ul.tq,{slidesPerView:6,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},modules:[dl.pt],breakpoints:{320:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:50},1248:{slidesPerView:6,spaceBetween:50}},children:(0,g.isEmpty)(a)?Array.from({length:5}).map(((e,l)=>(0,m.jsx)(U.oY,{className:" xs:w-fit bg-white w-full rounded-lg"},l))):[{uuid:999,name:"All",description:"all"},...a].map((e=>(0,m.jsx)(ul.o5,{children:(0,m.jsx)(ml,{category:e,onChangeFilter:l},e.uuid)},e.uuid)))})})};var fl=a(7370),jl=a(5792);const Cl=()=>{const e=(0,il.Z)(jl.A.Kk);return(0,m.jsx)("div",{className:"w-full xs:h-60 md:h-120",children:(0,m.jsx)(ul.tq,{spaceBetween:50,slidesPerView:1,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},modules:[dl.pt,dl.tl],children:(0,g.isEmpty)(e)?(0,m.jsx)(U.oY,{className:"w-full xs:h-60 md:h-120"}):null===e||void 0===e?void 0:e.map(((e,l)=>(0,m.jsx)(ul.o5,{children:(0,m.jsx)("img",{className:"w-full xs:h-60 md:h-120 object-cover",alt:"de-mairiage",src:e})},l)))})})},yl=()=>{const[e,l]=(0,s.useState)(null),a=(0,s.useCallback)((e=>{999!==e.uuid?l((l=>({...l,filterParams:[{filterBy:"filter.category_uuid",values:[e.uuid]}]}))):l((e=>({...e,filterParams:[]})))}),[]);return(0,m.jsxs)("div",{className:"w-full h-fit",children:[(0,m.jsx)(Cl,{}),(0,m.jsx)(xl,{onChangeFilter:a}),(0,m.jsx)(fl.Z,{queryParams:e,setQueryParams:l})]})};var gl=a(8866),pl=a(8439);const hl=e=>{let{title:l}=e;return(0,pl.Z)(l),(0,m.jsxs)("div",{className:"flex flex-col items-center py-20",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center pb-20",children:[(0,m.jsx)("div",{className:"text-4xl font-semibold uppercase",children:l}),(0,m.jsx)(U.oY,{className:"mt-6 h-4 w-56"})]}),(0,m.jsxs)("div",{className:"min-h-72 w-full max-w-4xl space-y-4 rounded-xl border-2 border-gray-100 bg-white p-6 shadow-md shadow-gray-100 ",children:[(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-3/4"}),(0,m.jsx)("div",{className:"h-4"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-1/4"})]})]})},bl=(0,s.memo)(hl),kl=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:gl.a0.HOME,element:(0,m.jsx)(yl,{})}),(0,m.jsx)(t.AW,{path:gl.a0.CONTACT,element:(0,m.jsx)(bl,{title:e("contact")})}),(0,m.jsx)(t.AW,{path:gl.a0.CARD,element:(0,m.jsx)(bl,{title:e("card")})}),(0,m.jsx)(t.AW,{path:gl.a0.BLOGS,element:(0,m.jsx)(bl,{title:e("blogs")})}),(0,m.jsx)(t.AW,{path:gl.a0.NOT_FOUND,element:(0,m.jsx)(cl.F2,{})})]})},vl=(0,s.memo)(kl),wl=()=>{const{isAdmin:e}=(0,il.Z)(rl.L3);return(0,m.jsxs)(t.Z5,{children:[e&&(0,m.jsx)(t.AW,{path:"admin/*",element:(0,m.jsx)(ol,{})}),(0,m.jsx)(t.AW,{path:"/*",element:(0,m.jsx)(vl,{})})]})},Nl=(0,s.memo)(wl)}}]);
//# sourceMappingURL=546.15ec7b70.chunk.js.map