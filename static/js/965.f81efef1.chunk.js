"use strict";(self.webpackChunkreact_ts_template=self.webpackChunkreact_ts_template||[]).push([[965],{8965:(e,s,t)=>{t.r(s),t.d(s,{default:()=>B});var a=t(2791),l=t(7689),r=t(4695),o=t(7477),i=t(1134),n=t(9230),d=t(9254),c=t(1655),m=t(3960),u=t(1649),x=t(3962),b=t(8439),p=t(3012),h=t(3246),g=t(184);const j=e=>{let{title:s,subtitle:t,children:a,footer:l}=e;return(0,g.jsx)("div",{className:"mb-6 flex sm:pb-10 sm:pt-16",children:(0,g.jsxs)("div",{className:"w-full max-w-screen-sm rounded-2xl border-gray-100 bg-white px-3 py-6 xs:px-4 sm:m-auto sm:border-2 sm:px-20 sm:py-12 sm:shadow-md",children:[(0,g.jsx)(h.T,{className:"mx-auto mb-12 mt-6 flex h-14 items-center justify-center"}),(0,g.jsxs)("div",{className:"mb-14 mt-4 md:text-center",children:[(0,g.jsx)("div",{className:"text-xl font-bold sm:text-3xl",children:s}),(0,g.jsx)("div",{className:"mt-1 text-sm font-semibold text-gray-400 sm:mt-3 sm:text-base",children:t})]}),a,(0,g.jsx)("div",{className:"text-center sm:mt-4",children:(0,g.jsx)("div",{className:"mb-2 mt-8 text-center sm:mt-14",children:l})})]})})},N=(0,a.memo)(j);var f=t(8007);const w=e=>{var s,t;return(0,f.Ry)().shape({email:(0,f.Z_)().email(null!==(s=e("emailInvalid"))&&void 0!==s?s:"").required(null!==(t=e("emailRequired"))&&void 0!==t?t:"")})};var y=t(3853),v=t(1087);const I=()=>{const{t:e}=(0,n.$G)();return(0,g.jsx)("div",{className:"text-left",children:(0,g.jsxs)(v.rU,{to:x.Fy.LOGIN,className:"flex items-center justify-start font-semibold text-gray-500 hover:text-primary-700 hover:underline sm:inline-block",children:[(0,g.jsx)(y.YFh,{className:"mb-1 mr-2 inline-block"}),(0,g.jsx)("span",{children:e("login")})]})})},S=(0,a.memo)(I),R=()=>{const{t:e}=(0,n.$G)(),s=(0,l.s0)(),[t,h]=(0,a.useState)(!1),[j,f]=(0,a.useState)(null),{control:y,handleSubmit:v}=(0,i.cI)({resolver:(0,r.X)(w(e))}),I=v((async t=>{h(!0);try{await p.ON.forgetPassword(t.email),f(null),s("".concat(x.Fy.RESET_PASSWORD,"?email=").concat(t.email))}catch(a){a instanceof o.d7&&f({code:u.n.ACCOUNT_NOT_EXISTS,message:e("emailNotExists",{email:t.email})})}finally{h(!1)}}));return(0,b.Z)(e("forgetPassword")),(0,g.jsx)(N,{title:e("forgetYourPassword"),subtitle:e("forgetPasswordSubtitle"),footer:(0,g.jsx)(S,{}),children:(0,g.jsxs)("form",{className:"grid grid-cols-1 gap-6",onSubmit:I,children:[j&&(0,g.jsx)(d.b,{title:e("forgetPasswordError"),message:j.message,type:"danger",className:"mb-2"}),(0,g.jsx)(m.II,{type:"text",label:e("email"),name:"email",className:"block",disabled:t,control:y}),(0,g.jsx)(c.z,{type:"submit",disabled:t,isLoading:t,children:e("forgetPassword")})]})})},k=(0,a.memo)(R);var T=t(763),_=t(2020);const C=e=>{var s,t,a;return(0,f.Ry)().shape({email:(0,f.Z_)().email(null!==(s=e("emailInvalid"))&&void 0!==s?s:"").required(null!==(t=e("emailRequired"))&&void 0!==t?t:""),password:(0,f.Z_)().required(null!==(a=e("passwordRequired"))&&void 0!==a?a:"")})},E=()=>{var e;const{t:s}=(0,n.$G)(),[t]=(0,v.lr)();return(0,g.jsxs)(g.Fragment,{children:[s("doNotHaveAccount"),(0,g.jsx)(v.rU,{to:"".concat(x.Fy.REGISTER,"?redirect=").concat(encodeURIComponent(null!==(e=t.get("redirect"))&&void 0!==e?e:"")),className:"ml-1 block font-semibold underline hover:text-primary-700 sm:inline-block",children:s("createNow")})]})},O=(0,a.memo)(E),q=()=>{var e;const{t:s}=(0,n.$G)(),[t,o]=(0,a.useState)(!1),[h,j]=(0,a.useState)(null),[f]=(0,v.lr)(),w=(0,l.s0)(),{control:y,handleSubmit:I,watch:S,...R}=(0,i.cI)({resolver:(0,r.X)(C(s))}),k=S("email"),E=I((async e=>{o(!0);try{const s=await p.ON.loginWithEmailAndPassword(e);(0,_.setAuthToken)({token:s.token}),w("/")}catch(s){(0,T.isEmpty)(s)||j(s)}finally{o(!1)}}));return(0,b.Z)(s("login")),(0,g.jsx)(N,{title:s("loginTitle"),subtitle:s("loginSubtitle"),footer:(0,g.jsx)(O,{}),children:(0,g.jsx)(i.RV,{control:y,handleSubmit:I,watch:S,...R,children:(0,g.jsxs)("form",{onSubmit:E,className:"grid grid-cols-1 gap-6",children:[h&&(0,g.jsx)(d.b,{title:s("loginError"),message:h.message,type:"danger",className:"mb-2",children:h.code===u.n.ACCOUNT_NOT_EXISTS&&(0,g.jsx)(v.rU,{to:"".concat(x.Fy.REGISTER,"?email=").concat(encodeURIComponent(k||""),"&redirect=").concat(encodeURIComponent(null!==(e=f.get("redirect"))&&void 0!==e?e:"")),children:s("createWithEmail")})}),(0,g.jsx)(m.II,{name:"email",label:s("email"),className:"block",control:y,disabled:t}),(0,g.jsx)(m.II,{type:"password",label:s("password"),name:"password",className:"block",control:y,disabled:t}),(0,g.jsx)("div",{className:"-mb-1.5 -mt-2 flex justify-end",children:(0,g.jsx)(v.rU,{to:x.Fy.FORGET_PASSWORD,className:"text-center text-sm font-semibold text-gray-400 hover:underline",role:"link",tabIndex:-1,children:s("forgetYourPassword")})}),(0,g.jsx)(c.z,{type:"submit",disabled:t,isLoading:t,children:s("login")})]})})})},A=(0,a.memo)(q);var P=t(7852),U=t(92);const Z=e=>{var s,t,a,l,r,o,i;return(0,U.wN)({first_name:(0,f.Z_)().required(null!==(s=e("firstNameRequired"))&&void 0!==s?s:""),last_name:(0,f.Z_)().required(null!==(t=e("firstNameRequired"))&&void 0!==t?t:""),email:(0,f.Z_)().email(null!==(a=e("emailInvalid"))&&void 0!==a?a:"").required(null!==(l=e("emailRequired"))&&void 0!==l?l:""),password:(0,f.Z_)().required(null!==(r=e("passwordRequired"))&&void 0!==r?r:""),password_confirmation:(0,f.Z_)().oneOf([(0,f.iH)("password")],null!==(o=e("passwordConfirmationNotMatch"))&&void 0!==o?o:"").required(null!==(i=e("passwordConfirmationRequired"))&&void 0!==i?i:""),isAcceptedTerms:(0,f.O7)()})},F=()=>{var e;const{t:s}=(0,n.$G)(),[t]=(0,v.lr)();return(0,g.jsxs)(g.Fragment,{children:[s("alreadyHaveAccount"),(0,g.jsx)(v.rU,{to:"".concat(x.Fy.LOGIN,"?redirect=").concat(encodeURIComponent(null!==(e=t.get("redirect"))&&void 0!==e?e:"")),className:"ml-1 block font-semibold underline hover:text-primary-700 sm:inline-block",children:s("loginNow")})]})},G=(0,a.memo)(F),L=()=>{var e;const{t:s}=(0,n.$G)(),[t,l]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null),[h]=(0,v.lr)(),{control:j,handleSubmit:f,setValue:w,watch:y}=(0,i.cI)({resolver:Z(s)}),I=y("isAcceptedTerms",!1),S=y("email",""),R=f((e=>{l(!0),p.ON.register(e).then((e=>{const{token:s}=e.data;(0,_.setAuthToken)(s)})).catch((t=>{const{status:a}=t.response.data;a!==P.UNPROCESSABLE_ENTITY?o({...t}):o({code:u.n.ACCOUNT_EXISTS,message:s("emailAlreadyExists",{email:e.email})})})).finally((()=>{l(!1)}))}));return(0,b.Z)(s("register")),(0,a.useEffect)((()=>{const e=h.get("email");e&&w("email",e)}),[h,w]),(0,g.jsx)(N,{title:s("registerTitle"),subtitle:s("registerSubtitle"),footer:(0,g.jsx)(G,{}),children:(0,g.jsxs)("form",{className:"grid grid-cols-1 gap-6",onSubmit:R,children:[r&&(0,g.jsx)(d.b,{title:s("registerError"),message:r.message,type:"danger",className:"mb-2",children:r.code===u.n.ACCOUNT_EXISTS&&(0,g.jsx)(v.rU,{to:"".concat(x.Fy.LOGIN,"?email=").concat(encodeURIComponent(null!==S&&void 0!==S?S:""),"&redirect=").concat(encodeURIComponent(null!==(e=h.get("redirect"))&&void 0!==e?e:"")),children:s("loginNow")})}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,g.jsx)(m.II,{type:"text",label:s("firstName"),name:"firstName",className:"block",disabled:t,control:j}),(0,g.jsx)(m.II,{type:"text",label:s("lastName"),name:"lastName",className:"block",disabled:t,control:j})]}),(0,g.jsx)(m.II,{type:"text",label:s("email"),name:"email",disabled:t,className:"block",control:j}),(0,g.jsx)(m.II,{type:"text",label:s("phone"),id:"phone",name:"phone",className:"block",disabled:t,control:j}),(0,g.jsx)(m.II,{type:"password",label:s("password"),name:"password",className:"block",disabled:t,control:j}),(0,g.jsx)(m.II,{type:"password",label:s("passwordConfirmation"),name:"passwordConfirmation",className:"block",disabled:t,control:j}),(0,g.jsxs)("label",{htmlFor:"isAcceptedTerms",className:"group flex items-center justify-start space-x-4",children:[(0,g.jsx)(m.XZ,{name:"isAcceptedTerms",className:"flex-shrink-0",disabled:t,control:j}),(0,g.jsx)("div",{className:"text-sm font-semibold leading-6 text-gray-400",children:(0,g.jsxs)(n.cC,{i18nKey:"isAcceptedTerm",t:s,children:["0",(0,g.jsx)(v.rU,{to:"/",className:"ml-1 underline hover:text-black",children:"1"})]})})]}),(0,g.jsx)(c.z,{type:"submit",disabled:t||!I,isLoading:t,children:s("register")})]})})},W=(0,a.memo)(L);var X=t(4033),$=t(9300);const Y=e=>{var s,t,a,l;return(0,f.Ry)().shape({password:(0,f.Z_)().required(null!==(s=e("passwordRequired"))&&void 0!==s?s:""),password_confirmation:(0,f.Z_)().required(null!==(t=e("passwordConfirmationRequired"))&&void 0!==t?t:"").oneOf([(0,f.iH)("password")],null!==(a=e("passwordConfirmationNotMatch"))&&void 0!==a?a:""),otp:(0,f.Z_)().required(null!==(l=e("otpRequired"))&&void 0!==l?l:"")})},H=()=>{const{t:e}=(0,n.$G)();return(0,g.jsx)("div",{className:"text-left",children:(0,g.jsxs)(v.rU,{to:x.Fy.LOGIN,className:"flex items-center justify-start font-semibold text-gray-500 hover:text-primary-700 hover:underline sm:inline-block",children:[(0,g.jsx)(y.YFh,{className:"mb-1 mr-2 inline-block"}),(0,g.jsx)("span",{children:e("login")})]})})},z=(0,a.memo)(H),D=()=>{const{t:e}=(0,n.$G)(),s=(0,$.Z)(),[t,h]=(0,a.useState)(!1),[j,f]=(0,a.useState)(null),w=(0,l.s0)(),{control:y,handleSubmit:I}=(0,i.cI)({resolver:(0,r.X)(Y(e))}),{search:S}=(0,l.TH)(),R=(0,a.useMemo)((()=>S.split("?email=").pop()),[S]),k=I((async t=>{h(!0);try{await p.ON.resetPassword(String(R),t),f(null),w("".concat(x.Fy.LOGIN,"?code=").concat(u.n.RESET_PASSWORD)),s.success(e("resetPasswordSuccessfully"))}catch(a){a instanceof o.d7&&f({code:u.n.OTP_INCORRECT,message:e("otpIncorrect")})}finally{h(!1)}}));return(0,b.Z)(e("resetPassword")),(0,g.jsx)(N,{title:e("resetYourPassword"),subtitle:e("resetPasswordSubtitle"),footer:(0,g.jsx)(z,{}),children:(0,g.jsxs)("form",{className:"grid grid-cols-1 gap-6",onSubmit:k,children:[j?(0,g.jsx)(d.b,{title:e("resetPasswordError"),message:j.message,type:"danger",className:"mb-2",children:(0,g.jsx)(v.rU,{to:x.Fy.FORGET_PASSWORD,children:e("requestNewLink")})}):(0,g.jsx)(d.b,{title:e("resetPasswordLinkSent"),message:e("resetPasswordMessage",{email:R}),type:"success",className:"mb-2"}),(0,g.jsx)(X.Z,{name:"otp",className:"block w-full",disabled:t,control:y,quantity:6}),(0,g.jsx)(m.II,{type:"password",label:e("password"),name:"password",className:"block",disabled:t,control:y}),(0,g.jsx)(m.II,{type:"password",label:e("passwordConfirmation"),name:"passwordConfirmation",className:"block",disabled:t,control:y}),(0,g.jsx)(c.z,{type:"submit",disabled:t,isLoading:t,children:e("resetPassword")})]})})},M=(0,a.memo)(D),V=()=>(0,g.jsxs)(l.Z5,{children:[(0,g.jsx)(l.AW,{path:"login",element:(0,g.jsx)(A,{})}),(0,g.jsx)(l.AW,{path:"register",element:(0,g.jsx)(W,{})}),(0,g.jsx)(l.AW,{path:"forget-password",element:(0,g.jsx)(k,{})}),(0,g.jsx)(l.AW,{path:"reset-password",element:(0,g.jsx)(M,{})})]}),B=(0,a.memo)(V)}}]);
//# sourceMappingURL=965.f81efef1.chunk.js.map