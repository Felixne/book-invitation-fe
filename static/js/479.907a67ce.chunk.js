"use strict";(self.webpackChunkreact_ts_template=self.webpackChunkreact_ts_template||[]).push([[479],{794:(e,s,l)=>{l.r(s),l.d(s,{default:()=>ys});var a=l(2791),t=l(7689),n=l(9895),o=l(9230),i=l(1070),r=l(3012),c=l(58),d=l(7692),u=l(1655),m=l(184);const x=e=>{let{onClickAdd:s}=e;const{t:l}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:s,children:[(0,m.jsx)(d.cHT,{size:24,className:"mr-2"}),l("addUser")]})},f=(0,a.memo)(x);var C=l(7477),j=l(1134),h=l(3960),y=l(763),g=l(6866),b=l(9300);var p=l(2785),k=l(3853);const v=e=>{let{placeholder:s}=e;return(0,m.jsxs)("div",{className:"grid h-14 w-full grid-cols-6 gap-x-2",children:[(0,m.jsx)("div",{className:"col-span-5 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:s}),(0,m.jsx)("div",{className:"col-span-1 flex h-full items-center justify-center rounded-lg bg-gray-100 text-inherit",children:(0,m.jsx)(k.Yjd,{size:24})})]})},w=(0,a.memo)(v);var N=l(8820);const E=e=>{let{image:s,onClearImage:l}=e;const t=(0,a.useCallback)((e=>{l(e,s)}),[s,l]);return(0,m.jsxs)("div",{className:"group relative aspect-4/3 h-14 w-[calc(25%-12px)] flex-none rounded-lg",children:[(0,m.jsx)("img",{src:s,alt:"cstorage",className:"h-full w-full rounded-lg object-cover object-center"}),(0,m.jsx)("div",{role:"button",tabIndex:0,className:"invisible absolute top-0 flex h-full w-full items-center justify-center rounded-lg bg-gray-100 text-red-500 opacity-70 group-hover:visible",onClick:t,children:(0,m.jsx)(k.Ybf,{size:22})})]})},S=(0,a.memo)(E),A=e=>{let{images:s,onClearImage:l,isLoading:a,reviewedImages:t}=e;return(0,m.jsxs)("div",{className:"flex flex-wrap justify-start gap-4 rounded-lg",children:[Array.from(s).map(((e,s)=>(0,m.jsx)(S,{image:e,onClearImage:l},s))),a&&Array.from(t).map(((e,s)=>(0,m.jsxs)("div",{className:"relative h-14 w-[calc(25%-12px)] rounded-lg",children:[(0,m.jsx)("img",{src:e,alt:"CStorage",className:"h-full w-full rounded-lg object-cover object-center opacity-50"}),(0,m.jsx)("div",{className:"absolute inset-0 m-auto h-4 w-4 animate-spin rounded-full border-2 border-t-gray-600"})]},s))),(0,m.jsx)("div",{className:"flex h-14 grow items-center justify-center rounded-lg bg-gray-100",children:(0,m.jsx)(N.Em2,{size:22})})]})},I=(0,a.memo)(A),O=e=>{let{className:s,containerClassName:l,error:t,inlineError:n=!1,multiple:i,value:c,label:d,disabled:u=!1,onChange:x,placeholder:f,...j}=e;const{t:h}=(0,o.$G)("company"),k=(0,b.Z)(),v=(0,a.useRef)(),[N,E]=(0,a.useState)([]),[S,A]=(0,a.useState)(!1),[O,L]=(0,a.useState)([]),M=(0,a.useRef)(!0),D=(0,a.useCallback)((()=>{v.current.click()}),[]),G=(0,a.useCallback)((async e=>{A(!0),i||null===E||void 0===E||E([]);try{const s=await r.TQ.uploadImage(e,p.Az.SYSTEM);if(i)return E((e=>[...e,s.absolute_url])),void(M.current=!1);null===x||void 0===x||x(s.absolute_url)}catch(s){s instanceof C.d7&&k.error(h("uploadError"))}finally{A(!1),L([])}}),[i,x,h,k]),Z=(0,a.useCallback)((e=>{const s=e.target.files;null!==s&&Array.from(s).forEach((e=>{L((s=>{return[...s,(l=e,l instanceof File?URL.createObjectURL(l):l.url)];var l})),G(e)}))}),[G]),B=(0,a.useCallback)(((e,s)=>{e.preventDefault(),e.stopPropagation(),E((e=>e.filter((e=>e!==s)))),i?null===x||void 0===x||x(N.filter((e=>e!==s))):null===x||void 0===x||x("")}),[N,i,x]);return(0,a.useEffect)((()=>{M.current||null===x||void 0===x||x(N)}),[N,x]),(0,a.useEffect)((()=>{M.current&&(c&&!(0,y.isEmpty)(c)?E(Array.isArray(c)?c:[c]):E([]))}),[c]),(0,m.jsxs)("div",{className:(0,g.m)("relative block cursor-text rounded-lg border-2 border-gray-100 bg-white px-4 py-4 ring-inset transition-colors duration-100 hover:border-blue-500",u&&"cursor-default bg-gray-50 ring-gray-100 hover:border-gray-100",l),children:[(0,m.jsxs)("div",{className:(0,g.m)("absolute left-2 top-1.5 z-5 -mt-0.5 flex -translate-y-4 items-center justify-between bg-white px-2 text-sm font-semibold text-blue-500 transition-all duration-100",u&&"text-gray-400"),children:[(0,m.jsx)("div",{className:"absolute inset-y-0 left-0 top-1/2 -z-30 w-full -translate-y-0.5"}),d]}),(0,m.jsxs)("button",{type:"button",className:(0,g.m)("block w-full cursor-pointer text-left outline-none",s),tabIndex:0,onClick:D,children:[(0,m.jsx)("input",{type:"file",className:"hidden",name:"input_file",ref:v,multiple:i,onChange:Z,...j}),(0,m.jsx)("div",{className:"h-full w-full",children:(null===N||void 0===N?void 0:N.length)>0||S?(0,m.jsx)(I,{images:N,onClearImage:B,isLoading:S,reviewedImages:O}):(0,m.jsx)(w,{placeholder:f})})]}),!n&&Boolean(t)&&(0,m.jsx)("div",{className:"-mb-1.5 mt-1.5 text-sm text-red-500",children:t})]})},L=(0,a.memo)(O),M=e=>{var s;let{name:l,control:a,rules:t,multiple:n,containerClassName:o,...i}=e;if(!a||!a.register)return(0,m.jsx)(L,{name:l,multiple:n,...i});const{field:{value:r=null,onChange:c,onBlur:d},formState:{errors:u}}=(0,j.bc)({name:l,control:a,rules:t});return(0,m.jsx)(L,{value:null!==r&&void 0!==r?r:null,error:null===(s=u[l])||void 0===s?void 0:s.message,multiple:n,onChange:c,onBlur:d,containerClassName:o,...(0,y.omit)(i,["value","onChange","onBlur"])})},D=(0,a.memo)(M);var G=l(4520);const Z={email:"",name:"",password:"",username:""},B=e=>{let{isOpen:s,user:l,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[y,g]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,j.cI)({defaultValues:Z}),E=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addUserSuccessfully")),r(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,n,r,x,f]),S=(0,a.useCallback)((async e=>{if(l)try{await c(l.uuid,e),f.success(x("edit")),d(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,c,d,x,f,l]),A=w((async e=>{g(!0),l?S(e):E(e)}));return(0,a.useEffect)((()=>{s&&(g(!1),v(l||Z))}),[s,v,l]),(0,m.jsxs)(i.u,{isLoading:y,isOpen:s,isFormModal:!0,title:x(l?"editUser":"addUser"),onClose:t,onConfirm:A,...u,children:[(0,m.jsx)(h.II,{className:"block w-full",control:k,disabled:y,label:x("username"),name:"username"}),(0,m.jsx)(h.II,{className:"block",control:k,disabled:y,label:x("password"),name:"password",type:"password",autoSave:"off"}),(0,m.jsx)(h.II,{className:"block w-full",control:k,disabled:y,label:x("email"),name:"email"}),(0,m.jsx)(h.II,{className:"block w-full",control:k,disabled:y,label:x("name"),name:"name"}),(0,m.jsx)(D,{containerClassName:"w-full",name:"avatar",control:k,disabled:y,multiple:!1,label:x("avatar"),placeholder:x("chooseAvatar")})]})},z=(0,a.memo)(B);var $=l(8080),R=l(8486),U=l(2070),P=l(128);const V=e=>{let{alt:s,skeleton:l=!1,src:a,type:t,className:n}=e;return(0,m.jsxs)("div",{className:(0,g.m)("h-12 w-12 rounded-full bg-gray-100",n),children:[l&&(0,m.jsx)(U.oY,{className:(0,g.m)("h-full w-full rounded-full",n)}),!l&&t===p.n6.ROUNDED&&(0,m.jsx)(P.q,{src:a||"",alt:s,className:"w-full h-full"}),!l&&t===p.n6.BOX&&(0,m.jsx)("img",{src:a||"",alt:s,className:"w-full h-full rounded-md"})]})},Y=(0,a.memo)(V);var _=l(3045),F=l(1454),W=l(6127);const T=e=>{let{id:s,onClickEdit:l,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(F.Z,{data:s,onClick:l}),(0,m.jsx)(W.h8,{data:s,onClick:a})]})},H=(0,a.memo)(T),q=e=>{let{data:s,isLoading:l,onClickEdit:t,onClickDelete:n}=e;const{t:i}=(0,o.$G)(),r=(0,a.useMemo)((()=>(0,$.Cl)()),[]),c=(0,a.useMemo)((()=>[r.accessor((e=>String(e.uuid)),{id:"id",header:i("id")}),r.display({id:"avatar",header:i("avatar"),cell:e=>(0,m.jsx)(Y,{alt:e.row.original.name,type:p.n6.ROUNDED}),meta:{skeleton:(0,m.jsx)(Y,{skeleton:!0,type:p.n6.ROUNDED})}}),r.accessor((e=>e.username),{id:"username",header:i("username")}),r.accessor((e=>e.email),{id:"email",header:i("email")}),r.accessor((e=>e.name),{id:"name",header:i("name")}),r.display({id:"actions",cell:e=>(0,m.jsx)(H,{id:e.row.original.uuid,onClickEdit:t,onClickDelete:n}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[r,n,t,i]);return(0,m.jsx)(R.Z,{data:s,meta:null,columns:c,isLoading:l})},X=(0,a.memo)(q),Q=()=>{const{t:e}=(0,o.$G)(),[s,l]=(0,a.useState)([]),[t,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[C,j]=(0,a.useState)(!1),[h,y]=(0,a.useState)(null),g=(0,a.useMemo)((()=>{var e;return null!==(e=s.find((e=>e.uuid===h)))&&void 0!==e?e:null}),[h,s]),b=(0,a.useCallback)((()=>{j(!0)}),[]),p=(0,a.useCallback)((e=>{y(null!==e&&void 0!==e?e:null),j(!0)}),[]),k=(0,a.useCallback)((e=>{y(null!==e&&void 0!==e?e:null),x(!0)}),[]),v=(0,a.useCallback)((()=>{j(!1),x(!1),y(null)}),[]),w=(0,a.useCallback)((async()=>{r.Vy.getUsers().then((e=>{l(e.data)})).finally((()=>{d(!1)}))}),[]);(0,a.useEffect)((()=>{w()}),[w]);const N=(0,a.useCallback)((async()=>{try{await(0,c.deleteUser)(h)}finally{w()}}),[h,w]);return(0,m.jsxs)(n.Vu,{title:e("userManagement"),action:(0,m.jsx)(f,{onClickAdd:b}),children:[(0,m.jsx)(X,{data:s,isLoading:t,onClickEdit:p,onClickDelete:k}),(0,m.jsx)(i.c,{title:e("deleteUser",{name:null===g||void 0===g?void 0:g.name}),message:e("deleteMessage"),isOpen:u,status:"danger",onClose:v,onConfirm:N}),(0,m.jsx)(z,{isOpen:C,user:g,onCreate:r.Vy.createUser,onCreated:w,onEdit:r.Vy.editUser,onEdited:w,onClose:v})]})},K=(0,a.memo)(Q);var J=l(6856),ee=l(9129),se=l(3962);const le=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(n.N_,{id:"adminSidebar",className:"pt-20",children:[(0,m.jsx)(n.GL,{id:"order",icon:(0,m.jsx)(J.nom,{}),text:e("order"),to:se.no.ORDER}),(0,m.jsx)(n.GL,{id:"product",icon:(0,m.jsx)(J.HUb,{}),text:e("product"),to:se.no.PRODUCT}),(0,m.jsx)(n.GL,{id:"category",icon:(0,m.jsx)(J.rA_,{}),text:e("category"),to:se.no.CATEGORY}),(0,m.jsx)(n.GL,{id:"user",icon:(0,m.jsx)(ee.tU0,{}),text:e("user"),to:se.no.USER}),(0,m.jsx)(n.GL,{id:"role",icon:(0,m.jsx)(ee.NLM,{}),text:e("role"),to:se.no.ROLE}),(0,m.jsx)(n.GL,{id:"config",icon:(0,m.jsx)(J.cgG,{}),text:e("config"),to:se.no.CONFIG})]})},ae=(0,a.memo)(le);var te=l(2489);const ne=e=>{let{id:s,onClickEdit:l,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(F.Z,{data:s,onClick:l}),(0,m.jsx)(W.h8,{data:s,onClick:a})]})},oe=(0,a.memo)(ne),ie=e=>{let{data:s,meta:l,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,$.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"id",header:r("id")}),c.accessor((e=>e.name),{id:"name",header:r("name")}),c.accessor((e=>e.description),{id:"description",header:r("description")}),c.display({id:"actions",cell:e=>(0,m.jsx)(oe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:s,meta:l,columns:d,isLoading:t})},re=(0,a.memo)(ie),ce={name:"",description:""},de=e=>{let{isOpen:s,category:l,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[g,p]=(0,a.useState)(!1),k=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:v,reset:w,handleSubmit:N,...E}=(0,j.cI)({defaultValues:ce}),S=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addCategorySuccessfully")),r(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,E.setError,null,k)}finally{p(!1)}}),[k,E.setError,t,n,r,x,f]),A=(0,a.useCallback)((async e=>{if(l)try{await c(l.uuid,e),f.success(x("editCategorySuccessfully")),d(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,E.setError,null,k)}finally{p(!1)}}),[k,E.setError,t,c,d,x,f,l]),I=N((async e=>{p(!0),l?A((0,y.omit)(e,"parent_uuid")):S(e)}));return(0,a.useEffect)((()=>{s&&(p(!1),w(l||ce))}),[s,w,l]),(0,m.jsxs)(i.u,{isLoading:g,isOpen:s,isFormModal:!0,title:x(l?"editCategory":"addCategory"),onClose:t,onConfirm:I,...u,children:[(0,m.jsx)(h.II,{className:"block w-full",control:v,disabled:g,label:x("name"),name:"name"}),(0,m.jsx)(h.II,{className:"block w-full",control:v,disabled:g,label:x("description"),name:"description"})]})},ue=(0,a.memo)(de),me=e=>{let{onClickAdd:s}=e;const{t:l}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:s,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),l("addCategory")]})},xe=(0,a.memo)(me),fe=()=>{const{t:e}=(0,o.$G)(),[s,l]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,h]=(0,a.useState)(!1),y=(0,a.useMemo)((()=>{var e;return null!==(e=s.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,s]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),h(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),h(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:s}=await(0,te.ML)();l(e),r(s)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,te.uu)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("categoryManagement"),action:(0,m.jsx)(xe,{onClickAdd:g}),children:[(0,m.jsx)(re,{data:s,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(ue,{isOpen:u,category:y,onCreate:te.k4,onCreated:v,onEdit:te.ht,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteCategory"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Ce=(0,a.memo)(fe),je=e=>{let{id:s,onClickEdit:l,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(F.Z,{data:s,onClick:l}),(0,m.jsx)(W.h8,{data:s,onClick:a})]})},he=(0,a.memo)(je),ye=e=>{let{data:s,meta:l,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,$.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"uuid",header:r("id")}),c.display({id:"img",header:r("img"),cell:e=>(0,m.jsx)(Y,{className:"w-28 h-40 rounded-md",src:e.row.original.image,alt:e.row.original.name,type:p.n6.BOX}),meta:{skeleton:(0,m.jsx)(Y,{skeleton:!0,type:p.n6.BOX})}}),c.accessor((e=>e.name),{id:"name",header:r("name")}),c.accessor((e=>e.price),{id:"price",header:r("price")}),c.accessor((e=>e.description),{id:"description",header:r("description")}),c.accessor((e=>e.category.name),{id:"category.name",header:r("category")}),c.display({id:"actions",cell:e=>(0,m.jsx)(he,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:s,meta:l,columns:d,isLoading:t})},ge=(0,a.memo)(ye),be={category_uuid:1,name:"",price:"",description:"",image:""},pe=e=>{let{isOpen:s,product:l,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[y,g]=(0,a.useState)(!1),[p,k]=(0,a.useState)(!0),[v,w]=(0,a.useState)([]),N=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:E,reset:S,handleSubmit:A,...I}=(0,j.cI)({defaultValues:be}),O=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addProductSuccessfully")),r(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,I.setError,null,N)}finally{g(!1)}}),[N,I.setError,t,n,r,x,f]),L=(0,a.useCallback)((async e=>{if(l)try{await c(l.uuid,e),f.success(x("editProductSuccessfully")),d(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,I.setError,null,N)}finally{g(!1)}}),[N,I.setError,t,c,d,x,f,l]),M=A((async e=>{g(!0),l?L(e):O(e)})),Z=(0,a.useCallback)((async()=>{try{const{data:e}=await(0,te.ML)();w(e)}finally{k(!1)}}),[]);(0,a.useEffect)((()=>{s&&(g(!1),S(l||be))}),[s,S,l]),(0,a.useEffect)((()=>{Z()}),[Z]);const B=(0,a.useMemo)((()=>v.map((e=>({value:e.uuid,label:e.name})))),[v]);return(0,m.jsxs)(i.u,{isLoading:y,isOpen:s,isFormModal:!0,title:x(l?"editProduct":"addProduct"),onClose:t,onConfirm:M,...u,children:[(0,m.jsx)(h.II,{className:"block w-full",control:E,disabled:y,label:x("name"),name:"name"}),(0,m.jsx)(h.II,{className:"block w-full",control:E,disabled:y,label:x("description"),name:"description"}),(0,m.jsx)(h.II,{className:"block w-full",control:E,disabled:y,label:x("price"),name:"price"}),(0,m.jsx)(h.Ph,{isDisabled:p,name:"category_uuid",className:"w-full",control:E,options:B}),(0,m.jsx)(D,{containerClassName:"w-full",name:"image",control:E,disabled:y,multiple:!1,label:x("image"),placeholder:x("chooseImage")})]})},ke=(0,a.memo)(pe),ve=e=>{let{onClickAdd:s}=e;const{t:l}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:s,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),l("addProduct")]})},we=(0,a.memo)(ve);var Ne=l(1042);const Ee=()=>{const{t:e}=(0,o.$G)(),[s,l]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,h]=(0,a.useState)(!1),y=(0,a.useMemo)((()=>{var e;return null!==(e=s.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,s]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),h(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),h(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:s}=await(0,Ne.Xp)({expand:["product__category_uuid"]});l(e),r(s)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,Ne.Ir)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("productManagement"),action:(0,m.jsx)(we,{onClickAdd:g}),children:[(0,m.jsx)(ge,{data:s,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(ke,{isOpen:u,product:y,onCreate:Ne.ry,onCreated:v,onEdit:Ne.zG,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteProduct"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Se=(0,a.memo)(Ee);var Ae=l(289);const Ie=e=>{let{id:s,onClickEdit:l,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(F.Z,{data:s,onClick:l}),(0,m.jsx)(W.h8,{data:s,onClick:a})]})},Oe=(0,a.memo)(Ie),Le=e=>{let{data:s,meta:l,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,$.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"id",header:r("id")}),c.accessor((e=>e.name),{id:"name",header:r("name")}),c.display({id:"actions",cell:e=>(0,m.jsx)(Oe,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:s,meta:l,columns:d,isLoading:t})},Me=(0,a.memo)(Le),De={name:""},Ge=e=>{let{isOpen:s,roleData:l,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[y,g]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,j.cI)({defaultValues:De}),E=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addRoleSuccessfully")),r(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,n,r,x,f]),S=(0,a.useCallback)((async e=>{if(l)try{await c(l.uuid,e),f.success(x("editRoleSuccessfully")),d(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,c,d,x,f,l]),A=w((async e=>{g(!0),l?S(e):E(e)}));return(0,a.useEffect)((()=>{s&&(g(!1),v(l||De))}),[s,v,l]),(0,m.jsx)(i.u,{isLoading:y,isOpen:s,isFormModal:!0,title:x(l?"editRole":"addRole"),onClose:t,onConfirm:A,...u,children:(0,m.jsx)(h.II,{className:"block w-full",control:k,disabled:y,label:x("name"),name:"name"})})},Ze=(0,a.memo)(Ge),Be=e=>{let{onClickAdd:s}=e;const{t:l}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:s,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),l("addRole")]})},ze=(0,a.memo)(Be),$e=()=>{const{t:e}=(0,o.$G)(),[s,l]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,h]=(0,a.useState)(!1),y=(0,a.useMemo)((()=>{var e;return null!==(e=null===s||void 0===s?void 0:s.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,s]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),h(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),h(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:s}=await(0,Ae.F3)();l(e),r(s)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,Ae.Rd)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("roleManagement"),action:(0,m.jsx)(ze,{onClickAdd:g}),children:[(0,m.jsx)(Me,{data:s,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(Ze,{isOpen:u,roleData:y,onCreate:Ae.fA,onCreated:v,onEdit:Ae.Aq,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteRole"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Re=(0,a.memo)($e);var Ue=l(6363);const Pe=e=>{let{id:s,onClickEdit:l,onClickDelete:a}=e;return(0,m.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,m.jsx)(F.Z,{data:s,onClick:l}),(0,m.jsx)(W.h8,{data:s,onClick:a})]})},Ve=(0,a.memo)(Pe),Ye=e=>{let{data:s,meta:l,isLoading:t,onClickEdit:n,onClickDelete:i}=e;const{t:r}=(0,o.$G)(),c=(0,a.useMemo)((()=>(0,$.Cl)()),[]),d=(0,a.useMemo)((()=>[c.accessor((e=>String(e.uuid)),{id:"id",header:r("id")}),c.accessor((e=>e.key),{id:"key",header:r("key")}),c.accessor((e=>e.value),{id:"value",header:r("value")}),c.accessor((e=>e.description),{id:"description",header:r("description")}),c.display({id:"actions",cell:e=>(0,m.jsx)(Ve,{id:e.row.original.uuid,onClickEdit:n,onClickDelete:i}),meta:{skeleton:(0,m.jsx)(_.Z,{numberOfActions:2})}})]),[c,i,n,r]);return(0,m.jsx)(R.Z,{data:s,meta:l,columns:d,isLoading:t})},_e=(0,a.memo)(Ye);const Fe={key:"",type:l(510).AL.PUBLIC,description:""},We=e=>{let{isOpen:s,config:l,onClose:t,onCreate:n,onCreated:r,onEdit:c,onEdited:d,...u}=e;const{t:x}=(0,o.$G)(),f=(0,b.Z)(),[y,g]=(0,a.useState)(!1),p=(0,a.useCallback)((()=>{f.error(x("unknown"))}),[x,f]),{control:k,reset:v,handleSubmit:w,...N}=(0,j.cI)({defaultValues:Fe}),E=(0,a.useCallback)((async e=>{try{await n(e),f.success(x("addConfigSuccessfully")),r(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,n,r,x,f]),S=(0,a.useCallback)((async e=>{if(l)try{await c(l.uuid,e),f.success(x("editConfigSuccessfully")),d(),t()}catch(s){s instanceof C.d7&&(0,G.yB)(s,N.setError,null,p)}finally{g(!1)}}),[p,N.setError,t,c,d,x,f,l]),A=w((async e=>{g(!0),l?S(e):E(e)}));return(0,a.useEffect)((()=>{s&&(g(!1),v(l||Fe))}),[s,v,l]),(0,m.jsxs)(i.u,{isLoading:y,isOpen:s,isFormModal:!0,title:x(l?"editConfig":"addConfig"),onClose:t,onConfirm:A,...u,children:[(0,m.jsx)(h.II,{className:"block w-full",control:k,disabled:y,label:x("key"),name:"key"}),(0,m.jsx)(h.II,{className:"block w-full",control:k,disabled:y,label:x("value"),name:"value"}),(0,m.jsx)(h.II,{className:"block w-full",control:k,disabled:y,label:x("description"),name:"description"})]})},Te=(0,a.memo)(We),He=e=>{let{onClickAdd:s}=e;const{t:l}=(0,o.$G)();return(0,m.jsxs)(u.z,{className:"rounded-md shadow-none",size:"sm",onClick:s,children:[(0,m.jsx)(d.poH,{size:24,className:"mr-2"}),l("addConfig")]})},qe=(0,a.memo)(He),Xe=()=>{const{t:e}=(0,o.$G)(),[s,l]=(0,a.useState)([]),[t,r]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),[u,x]=(0,a.useState)(!1),[f,C]=(0,a.useState)(null),[j,h]=(0,a.useState)(!1),y=(0,a.useMemo)((()=>{var e;return null!==(e=s.find((e=>e.uuid===f)))&&void 0!==e?e:null}),[f,s]),g=(0,a.useCallback)((()=>{x(!0)}),[]),b=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),x(!0)}),[]),p=(0,a.useCallback)((()=>{x(!1),h(!1),C(null)}),[]),k=(0,a.useCallback)((e=>{C(null!==e&&void 0!==e?e:null),h(!0)}),[]),v=(0,a.useCallback)((async()=>{try{const{data:e,meta:s}=await(0,Ue.getConfigs)();l(e),r(s)}finally{d(!1)}}),[]);(0,a.useEffect)((()=>{v()}),[v]);const w=(0,a.useCallback)((async()=>{try{await(0,Ue.deleteConfig)(f)}finally{v()}}),[f,v]);return(0,m.jsxs)(n.Vu,{title:e("categoryManagement"),action:(0,m.jsx)(qe,{onClickAdd:g}),children:[(0,m.jsx)(_e,{data:s,meta:t,isLoading:c,onClickEdit:b,onClickDelete:k}),(0,m.jsx)(Te,{isOpen:u,config:y,onCreate:Ue.createConfig,onCreated:v,onEdit:Ue.editConfig,onEdited:v,onClose:p}),(0,m.jsx)(i.c,{title:e("deleteConfig"),message:e("deleteMessage"),isOpen:j,status:"danger",onClose:p,onConfirm:w})]})},Qe=(0,a.memo)(Xe),Ke=()=>(0,m.jsx)(n.kz,{sidebar:(0,m.jsx)(ae,{}),sidebarIds:["adminSidebar"],children:(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:"*",element:(0,m.jsx)("div",{className:"flex min-h-fit-layout w-full items-center justify-center",children:"Admin"})}),(0,m.jsx)(t.AW,{path:"product",element:(0,m.jsx)(Se,{})}),(0,m.jsx)(t.AW,{path:"user",element:(0,m.jsx)(K,{})}),(0,m.jsx)(t.AW,{path:"category",element:(0,m.jsx)(Ce,{})}),(0,m.jsx)(t.AW,{path:"role",element:(0,m.jsx)(Re,{})}),(0,m.jsx)(t.AW,{path:"config",element:(0,m.jsx)(Qe,{})})]})}),Je=(0,a.memo)(Ke);var es=l(2353),ss=l(8654),ls=l(2318),as=l(8870),ts=l(9705);l(6497),l(4277);const ns=e=>{let{name:s,onChangeFilter:l}=e;const t=(0,a.useCallback)((()=>{l(s)}),[l,s]);return(0,m.jsx)("div",{role:"button",tabIndex:0,onClick:t,className:"p-4 w-fit hover:bg-violet-100 hover:border-violet-500  font-semibold flex items-center justify-center h-16 rounded-lg border-2 border-gray-100",children:(0,m.jsx)("div",{className:"xs:w-32 md:w-40 text-center",children:s})})},os=e=>{let{onChangeFilter:s}=e;const l=(0,es.Z)((e=>e.common.categories));return(0,m.jsx)("div",{className:"w-full h-fit xs:px-6 md:px-20 xl:px-40 my-8 ",children:(0,m.jsx)(ts.tq,{slidesPerView:6,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},modules:[as.pt],breakpoints:{320:{slidesPerView:2,spaceBetween:16},1024:{slidesPerView:4,spaceBetween:50},1248:{slidesPerView:6,spaceBetween:50}},children:(0,y.isEmpty)(l)?Array.from({length:5}).map(((e,s)=>(0,m.jsx)(U.oY,{className:" xs:w-fit bg-white w-full rounded-lg"},s))):[{uuid:999,name:"All",description:"all"},...l].map((e=>(0,m.jsx)(ts.o5,{children:(0,m.jsx)(ns,{name:e.name,onChangeFilter:s},e.uuid)},e.uuid)))})})};var is=l(7370),rs=l(5792);const cs=()=>{const e=(0,es.Z)(rs.A.Kk);return(0,m.jsx)("div",{className:"w-full xs:h-60 md:h-120",children:(0,m.jsx)(ts.tq,{spaceBetween:50,slidesPerView:1,pagination:{clickable:!0},autoplay:{delay:2500,disableOnInteraction:!1},modules:[as.pt,as.tl],children:(0,y.isEmpty)(e)?(0,m.jsx)(U.oY,{className:"w-full xs:h-60 md:h-120"}):null===e||void 0===e?void 0:e.map(((e,s)=>(0,m.jsx)(ts.o5,{children:(0,m.jsx)("img",{className:"w-full xs:h-60 md:h-120 object-cover",alt:"de-mairiage",src:e})},s)))})})},ds=()=>{const[e,s]=(0,a.useState)(null),l=(0,a.useCallback)((e=>{s("All"!==e?s=>({...s,filterParams:[{filterBy:"filter.name",values:[e]}]}):e=>({...e,filterParams:[]}))}),[]);return(0,m.jsxs)("div",{className:"w-full h-fit",children:[(0,m.jsx)(cs,{}),(0,m.jsx)(os,{onChangeFilter:l}),(0,m.jsx)(is.Z,{queryParams:e,setQueryParams:s})]})};var us=l(8866),ms=l(8439);const xs=e=>{let{title:s}=e;return(0,ms.Z)(s),(0,m.jsxs)("div",{className:"flex flex-col items-center py-20",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center justify-center pb-20",children:[(0,m.jsx)("div",{className:"text-4xl font-semibold uppercase",children:s}),(0,m.jsx)(U.oY,{className:"mt-6 h-4 w-56"})]}),(0,m.jsxs)("div",{className:"min-h-72 w-full max-w-4xl space-y-4 rounded-xl border-2 border-gray-100 bg-white p-6 shadow-md shadow-gray-100 ",children:[(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-3/4"}),(0,m.jsx)("div",{className:"h-4"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-full"}),(0,m.jsx)(U.oY,{className:"h-4 w-1/4"})]})]})},fs=(0,a.memo)(xs),Cs=()=>{const{t:e}=(0,o.$G)();return(0,m.jsxs)(t.Z5,{children:[(0,m.jsx)(t.AW,{path:us.a0.HOME,element:(0,m.jsx)(ds,{})}),(0,m.jsx)(t.AW,{path:us.a0.CONTACT,element:(0,m.jsx)(fs,{title:e("contact")})}),(0,m.jsx)(t.AW,{path:us.a0.CARD,element:(0,m.jsx)(fs,{title:e("card")})}),(0,m.jsx)(t.AW,{path:us.a0.BLOGS,element:(0,m.jsx)(fs,{title:e("blogs")})}),(0,m.jsx)(t.AW,{path:us.a0.NOT_FOUND,element:(0,m.jsx)(ls.F2,{})})]})},js=(0,a.memo)(Cs),hs=()=>{const{isAdmin:e}=(0,es.Z)(ss.L3);return(0,m.jsxs)(t.Z5,{children:[e&&(0,m.jsx)(t.AW,{path:"admin/*",element:(0,m.jsx)(Je,{})}),(0,m.jsx)(t.AW,{path:"/*",element:(0,m.jsx)(js,{})})]})},ys=(0,a.memo)(hs)}}]);
//# sourceMappingURL=479.907a67ce.chunk.js.map